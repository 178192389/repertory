<include file="Personal/top"/>

	<div class="container container-top">
		<include file="Personal/left"/>
		
		<div class="col-xs-8 col-md-10" >
			<div class="panel padding-top text-center row">
				<form action="__URL__/picCheck" method="post" enctype="multipart/form-data" target="mywin" class="col-md-5">
						<ul class="list-inline">
							<li>
								<img  data-src="holder.js/100x100" src="__PUBLIC__/Uploads/<{$pic}>" width="100" height="100">
							</li>
							<li>
								<br/><input  type="file" name="portrait" value="" id="fileid" />
								<br/><p>建议上传尺寸100px*100px</p>
							</li>
						</ul>
					<input type="submit" class="btn-lg btn btn-primary " value="保存设置">
				</form>
				<div class=" col-md-5" id="imgid" >
					 <img src="" class="img-responsive">		
				</div>	
			</div>
	</div>
	
<script>
document.getElementById('fileid').onchange = function() {
    var imgFile = this.files[0];
    var fr = new FileReader();
    fr.onload = function() {
        document.getElementById('imgid').getElementsByTagName('img')[0].src = fr.result;
    };
    fr.readAsDataURL(imgFile);
};  
/* $(function(){
	$(" :file").change(function(){
		var preview = document.querySelector('#imgid img');
		var reader = new FileReader();
		reader.onloadend = function () {
			preview.src = reader.result;
		}
		var file = document.querySelector('input[type=file]').files[0];		
		reader.readAsDataURL(file);	
	});    
})  */
/*readAsDataURL方法用于读取指定Blob或File的内容。当读操作完成，readyState变为DONE,
loadend被触发，此时result属性包含数据：URL以base64编码的字符串表示文件的数据。
instanceOfFileReader.readAsDataURL(blob);  需要读取的Blog或File*/
</script>


