
    9=3271
    49=conn.cps-bjjy14711_3153.fix
  {sh_no: "A141120375", sz_no: "0235397071"}    "26932540"


    $a  =   8=FIXT.1.1
            9=3268
            35=A
            34=0
            49=conn.cps-fgjy414_1366.fix
            52=20170928-02:23:19.106
            56=conn.cps-fgjy414_1366.fix
            1156=0
            95=3209
            96={"total":5,
            "data":[
                    {"encryptData":"09DBE6BF9180F4E5BE4A9ED116D23B2A",               "99C7D47C17DAA1282D3AA7EA12624081"     
                     "remark":" ",
                     "corp_risk_level":"2",
                     "money_type":"0",
                     "current_balance":"0.00",
                     "nbop_station":"IP:183.39.232.167,
                     MAC:1C:1B:0D:5A:2D:39,192.168.1.113,
                     HDD:WD-WCC6Y6TE9RR3,
                     LH:http:\/\/hippo.gf.com.cn",
                     "valid_flag":"1",
                     "company_name":"广发证券",
                     "id_expired_flag":"false",
                     "message_flag":"0",
                     "enable_balance":"0.00",
                     "op_station":"HIPPO|ver\u003dweb|ip\u003d183.39.232.167|mac\u003d1C:1B:0D:5A:2D:39,192.168.1.113|hdd\u003dWD-WCC6Y6TE9RR3|lan_ip\u003dnull|site\u003dhttp:\/\/hippo.gf.com.cn",
                     "client_id":"060300035370",
                     "content_type":"0",
                     "last_date":"0",
                     "error_no":"0",
                     "last_login_date":"20170926",
                     "session_no":"0",
                     "corp_between_days":"701",
                     "money_count":"1",
                     "bank_trans_flag":" ",
                     "bank_no":"a",
                     "corp_risk_info":"客户风险等级未过期。",
                     "tabconfirm_flag":" ",
                     "id_no":"445281199203053070",
                     "login_times":"15",
                     "exchange_type":"",
                     "corp_end_date":"20190830",
                     "account_content":"060300035370",
                     "product_flag":"0",
                     "organ_prop":"0",
                     "online_time":"0",
                     "user_token":"0yZ7wpv8NGjRm+us35rkXJYR29zfLTT9L2JnZGFmaw\u003d\u003d",
                     "init_date":"20170928",
                     "client_rights":"CEdeq#t",
                     "fund_account":"26932540",
                     "stock_account":"",
                     "last_op_entrust_way":"7",
                     "client_name":"林楷新",
                     "foreign_flag":" ",
                     "branch_no":"603",
                     "corp_client_group":"1",
                     "last_login_time":"170240",
                     "fundaccount_count":"1",
                     "corp_risk_valid":"false",
                     "client_age":"25",
                     "id_expired_mess":"您的证件有效期未过期。",
                     "square_flag":"2",
                     "last_op_ip":" ",
                     "last_op_station":"HIPPO|ver\u003dweb|ip\u003d183.39.85.168|mac\u003d1C:1B:0D:5A:2D:39,192.168.1.113|hdd\u003dWD-WCC6Y6TE9RR3|lan_ip\u003dnull|site\u003dhttp://hippo.gf.com.cn",
                     "asset_prop":"0",
                     "initpasswd_flag":" ",
                     "sys_status":"1",
                     "id_kind":"0",
                     "prestore_info":" ",
                     "error_info":"",
                     "sysnode_id":"4"
                    },
                     {"acode_account":"180149746055",
                     "holder_name":"林楷新",
                     "main_flag":"1",
                     "exchange_type":"1",
                     "seat_no":"43003",
                     "funcid":"331300",
                     "position_str":"0060300000000002693254000010000000000A141120375",
                     "register":"1",
                     "holder_rights":" ",
                     "holder_status":"0",
                     "asset_prop":"0",
                     "fund_account":"26932540",
                     "stock_account":"A141120375",
                     "holder_kind":"0"
                    },
                     {"acode_account":"180149746055",
                     "holder_name":"林楷新",
                     "main_flag":"1",
                     "exchange_type":"2",
                     "seat_no":"239100",
                     "funcid":"331300",
                     "position_str":"00603000000000026932540000200000000000235397071",
                     "register":"0",
                     "holder_rights":" ",
                     "holder_status":"0",
                     "asset_prop":"0",
                     "fund_account":"26932540",
                     "stock_account":"0235397071",
                     "holder_kind":"0"
                    },
                     {"bkaccount_rights":" ",
                     "bank_name":"工总行存管",
                     "bkaccount_status":"0",
                     "money_type":"0",
                     "asset_prop":"0",
                     "fund_account":"26932540",
                     "bank_no":"a",
                     "funcid":"331158",
                     "bank_account":"6222034000003140997",
                     "bkaccount_regflag":"2"
                    },
                     {"corp_begin_date":"20170831",
                     "birthday":"19920305",
                     "client_income_type":" ",
                     "en_invest_term":"2",
                     "corp_risk_level":"2",
                     "prof_type":" ",
                     "prof_begin_date":"0",
                     "prof_end_date":"0",
                     "funcid":"331018",
                     "corp_end_date":"20190830",
                     "detail_organ_type":" ",
                     "risk_begin_date":"0",
                     "en_maxdeficit_rate":"0.00000000",
                     "min_rank_flag":"0",
                     "detail_prod_type":" ",
                     "prof_flag":"0",
                     "asset_balance":"0.00",
                     "en_invest_kind":"2",
                     "organ_flag":"0",
                     "risk_end_date":"0",
                     "pf_risk_level":"0"
                    }],
            "success":true,
            "error_info":"",
            "error_no":0,
            "return_code":0
            }
            98=0
            108=0
            1137=FIX50SP2
            10=230"};
    //print_r($result);
































function (e, t, n) {
    "use strict";

    function r(e) {
        return e && e.__esModule ? e : {
        default:
            e
        }
    }
    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }
    function l(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }),
        t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1,
                r.configurable = !0,
                "value" in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r)
            }
        }
        return function (t, n, r) {
            return n && e(t.prototype, n),
            r && e(t, r),
            t
        }
    }(),
        u = function (e, t, n) {
            for (var r = !0; r;) {
                var i = e,
                    l = t,
                    o = n;
                r = !1,
                null === i && (i = Function.prototype);
                var u = Object.getOwnPropertyDescriptor(i, l);
                if (void 0 !== u) {
                        if ("value" in u) return u.value;
                        var a = u.get;
                        if (void 0 === a) return;
                        return a.call(o)
                    }
                var s = Object.getPrototypeOf(i);
                if (null === s) return;
                e = s,
                t = l,
                n = o,
                r = !0,
                u = s = void 0
            }
        },
        a = n(540),
        s = n(716),
        c = r(s),
        f = n(528),
        h = r(f),
        p = n(634),
        d = r(p),
        g = c.
default.getLogger(),
        y = function (e) {
            function t(e) {
                if (i(this, t), u(Object.getPrototypeOf(t.prototype), "constructor", this).call(this), !(e instanceof Array)) throw new Error("GFWebsocket...");
                this._onClose = h.
            default.bind(this.onClose, this),
                this._onMessage = h.
            default.bind(this.onMessage, this),
                this.url_arr = e,
                this.websocket = null,
                this.heartbeat_msg = '{"topic":"sys.hb", "data":{"method":"ping"}}',
                this.heartbeat_interval = null,
                this.missed_heartbeats = 0,
                this.reconnect_interval = null,
                this.socket_arr = [],
                this.connect_times = 0,
                this.setConnted(-1),
                this.setMaxListeners(100)
            }
            return l(t, e),
            o(t, [{
                key: "setConnted",
                value: function (e) {
                    if (this.got_it_index != e) {
                        if (e < 0) {
                            var t = d.
                        default.defer();
                            this._connected = t,
                            this.connected = t.promise
                        } else this._connected.resolve(e);
                        this.got_it_index = e
                    }
                }
            },
            {
                key: "getState",
                value: function () {
                    return {
                        list: this.url_arr,
                        connecting: this.connecting,
                        connected: this.got_it_index,
                        connect_times: this.connect_times
                    }
                }
            },
            {
                key: "send",
                value: function (e, t) {
                    var n = this.got_it_index;
                    n > -1 ? (this.socket_arr[n].send(e), t && t()) : this.connect()
                }
            },
            {
                key: "_makeOpenCb",
                value: function (e) {
                    var t = this;
                    return function () {
                        t.connecting = !1;
                        var n = !1;
                        t.got_it_index < 0 && !
                        function () {
                            n = !0,
                            t.setConnted(e);
                            var r = e;
                            t.emit("connected", t.url_arr[r].NAME),
                            t.connect_times++,
                            t.connect_times > 1 && t.emit("reconnected"),
                            t.heartbeat_interval || (t.missed_heartbeats = 0, t.heartbeat_interval = setInterval(function () {
                                try {
                                    if (t.missed_heartbeats++, t.missed_heartbeats >= 2) throw new Error("Too many missed heartbeats");
                                    t.socket_arr[r].send(t.heartbeat_msg),
                                    g.debug("send heartbeat >>> " + t.heartbeat_msg)
                                } catch (e) {
                                    clearInterval(t.heartbeat_interval),
                                    t.heartbeat_interval = null,
                                    g.debug("Closing connection. Reason:" + e.message),
                                    t._onClose()
                                }
                            }, 3e3)),
                            t.socket_arr[r].onmessage = t._onMessage,
                            t.socket_arr[r].onclose = t.socket_arr[r].onerror = t._onClose,
                            clearTimeout(t.connectionTimer)
                        }();
                        var r = Date.now() - t.start_time;
                        t.url_arr[e].time = r,
                        n && (t.url_arr = t.url_arr.map(function (e) {
                            return !e.time && (e.time = -1),
                            e
                        })),
                        t.emit("update"),
                        g.debug("The " + t.url_arr[e].NAME + " server connected need " + r + "ms")
                    }
                }
            },
            {
                key: "onClose",
                value: function () {
                    this.setConnted(-1),
                    this.emit("error"),
                    this.emit("update"),
                    this.connect()
                }
            },
            {
                key: "onMessage",
                value: function (e) {
                    var t = e.data;
                   
                    if ("string" == typeof t) try {
                        var n = JSON.parse(t);
                        n && "sys.hb" === n.topic && n.data && "pong" === n.data.method ? (this.missed_heartbeats = 0, g.debug("on data <<< " + t)) : this.emit("message", e)
                    } catch (e) {
                        console.error(e)
                    } else this.emit("message", e)
                }
            },
            {
                key: "connect",
                value: function () {
                    this.connecting || this._connect()
                }
            },
            {
                key: "manuallyConnect",
                value: function (e, t) {
                    this._connect(e, t)
                }
            },
            {
                key: "reset",
                value: function () {
                    this.socket_arr.forEach(function (e) {
                        e && (e.onopen = e.onclose = e.onerror = e.onmessage = null, e.close())
                    }),
                    this.heartbeat_interval && (clearInterval(this.heartbeat_interval), this.heartbeat_interval = null, this.missed_heartbeats = 0),
                    this.got_it_index = -1,
                    clearTimeout(this.connectionTimer)
                }
            },
            {
                key: "_connect",
                value: function (e, t) {
                    var n = this;
                    this.reset(),
                    this.connecting = !0,
                    this.start_time = new Date,
                    this.cb_arr = [],
                    this.socket_arr = [],
                    this.emit("update");
                    var r = function (e, t) {
                        !e.time && (e.time = void 0);
                        var r = e.HOST + ":" + e.PORT;
                        g.debug("The " + e.NAME + " server start to connect...");
                        var i = new WebSocket(r, ["msg-hippo"]);
                        i.binaryType = "arraybuffer";
                        var l = n._makeOpenCb(t);
                        n.cb_arr[t] = l,
                        n.socket_arr[t] = i,
                        i.onopen = l
                    },
                        i = function () {
                            n.connecting = !1;
                            for (var e = n.url_arr.length, t = 0; t < e; t++) {
                                var r = n.url_arr[t];
                                !r.time && (r.time = -1),
                                t !== n.got_it_index && n.socket_arr[t] && (n.socket_arr[t].close(), n.socket_arr[t].removeEventListener("open", n.cb_arr[t]))
                            }
                            n.got_it_index < 0 ? (n.connect(), n.emit("error")) : (g.debug("Connect Test Result:" + JSON.stringify(n.url_arr)), n.emit("test.result", n.url_arr)),
                            n.emit("update")
                        };
                    e ? r(e, t) : this.url_arr.forEach(r),
                    this.connectionTimer = setTimeout(i, 3e3)
                }
            },
            {
                key: "reconnect",
                value: function () {
                    0 > this.got_it_index || (this.reset(), this.connect())
                }
            }]),
            t
        }(a.EventEmitter);
    t.
default = y,
    e.exports = t.
default
},







































function (e, t, n) {
    "use strict";

    function r(e) {
        return e && e.__esModule ? e : {
        default:
            e
        }
    }
    function i() {
        var e = sessionStorage.trade_id,
            t = sessionStorage.trade_token;
        e && t && a.loginByToken(e, t, function (n) {
                return n ? void l() : void a.creditLoginByToken(e, t)
            })
    }
    function l() {
        sessionStorage.removeItem("trade_id"),
        sessionStorage.removeItem("trade_token")
    }
    function o(e) {
        return e = "" + e,
        "H" === e || "D" === e ? "B" : "A"
    }
    function u(e) {
        var t = e.res,
            n = e.sh_no,
            r = e.sz_no,
            i = e.sh_b_no,
            l = e.sz_b_no,
            o = {};
        n && (o.sh_no = n),
        r && (o.sz_no = r),
        i && (o.sh_b_no = i),
        l && (o.sz_b_no = l);
        var u = q.ClientManager.getFundAccount(t),
            a = t[0];
        return {
                no: o,
                id: u.client_id,
                name: u.client_name,
                fund_id: u.fund_account,
                bank_accounts: t.bank_accounts,
                money_types: t.money_types,
                id_kind: e.id_kind,
                client_age: e.client_age,
                organ_prop: e.organ_prop,
                client_rights: e.client_rights,
                id_expired_flag: "false" != a.id_expired_flag,
                id_expired_mess: a.id_expired_mess,
                corp_risk_valid: "false" != a.corp_risk_valid,
                corp_risk_info: a.corp_risk_info,
                corp_between_days: +a.corp_between_days
            }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var a, s, c, f, h, p, d, g, y, v, m, b, _, w, S, x, k, E, O = n(540),
        T = n(528),
        P = r(T),
        I = n(714),
        L = r(I),
        R = n(620),
        M = r(R),
        D = n(707),
        C = r(D),
        N = n(634),
        j = r(N),
        A = n(708),
        F = r(A),
        q = n(726),
        U = n(725),
        B = n(712),
        z = r(B),
        V = 5e3,
        H = {
            error_no: -2,
            error_msg: "查询失败",
            error_whole_msg: "查询失败,请重试."
        };
    E = {},
    g = 0,
    L.
default.transportReady.then(function (e) {
            e.transport.on("disconnected", function () {
                a.emit("trade.network", {
                    status: "disconnected"
                })
            }),
            e.transport.on("test.result", function (e) {
                a.emit("trade.network.test.result", e)
            }),
            e.setSessionExpiredCb(function () {
                a.emit("trade.session.expired")
            }),
            e.transport.on("captcha", function (e) {
                a.emit("trade.captcha", e.data.captcha.captcha)
            }),
            e.transport.on("verify_result", function (e) {
                var t;
                return t = !0,
                "err" === e && (t = !1),
                a.emit("trade.verify.result", t)
            }),
            e.transport.on("verify_captcha", function () {
                a.verifyCaptcha = !0,
                a.emit("trade.verify_captcha")
            }),
            i(),
            e.setReconnectedCb(i)
        }),
    y = function (e) {
            return "sh" === e ? "XSHG" : "sz" === e ? "XSHE" : void 0
        },
    h = function (e) {
            var t, n, r, i, l, o;
            for (t = e.split("_"), o = "", n = i = 0, l = t.length; i < l; n = ++i) r = t[n],
            o += 0 === n ? r : r.substr(0, 1).toUpperCase() + r.substr(1);
            return o
        },
    d = function (e) {
            return "sh" === e || "sz" === e ? _[e].marketCode : ""
        },
    w = {
            0: null,
            7: null
        },
    _ = {},
    x = {},
    b = {
            0: null,
            7: null
        },
    S = [],
    k = "",
    v = function (e, t, n) {
            var r, i, l, o, u;
            return l = e.length,
            o = 0,
            i = [],
            l > 0 && (t >= l ? o = 1 : (o = Math.floor(l / t), l % t > 0 && (o += 1)), n <= o && (u = (n - 1) * t, r = u + t * n, i = e.slice(u, r))),
            {
                page_count: o,
                jsons: i
            }
        },
    m = function (e, t, n) {
            if (t) {
                var r = !1,
                    i = setTimeout(function () {
                        r = !0,
                        "function" == typeof n && n({
                            error_no: -1,
                            error_msg: "超时"
                        })
                    }, V);
                g++;
                var l = "id" + g;
                E[l] = i,
                e.send(t, function (e, t) {
                        if ("timeout" === e) return "function" == typeof n && n({
                            error_no: -3,
                            error_msg: "会话超时"
                        }),
                        a.emit("trade.network", {
                            status: "token_timeout"
                        });
                        if (!r) {
                            if (clearTimeout(i), delete E[l], t && t.error_no) {
                                var o = void 0,
                                    u = U.TopicManager.getErrorInfo(t);
                                return o = /^\[.*/.test(u) ? u.match(/\[[^\[\]]*\]/g) : u.match(/^[^\[]*/),
                                "function" == typeof n && n({
                                        error_no: -2,
                                        error_msg: o[0] + (o[1] || ""),
                                        error_whole_msg: o.join("")
                                    }, t)
                            }
                            "function" == typeof n && n(null, t)
                        }
                    })
            }
        },
    p = function (e, t) {
            var n, r, i;
            return null == t && (t = ":"),
            n = Math.floor(e / 1e4),
            r = Math.floor(e % 1e4 / 100),
            r < 10 && (r = "0" + r),
            i = Math.floor(e % 100),
            i < 10 && (i = "0" + i),
            e = "" + n + t + r + t + i
        },
    c = function (e, t, n) {
            _ = {};
            var r = q.ClientManager.getAccountByMarketAndAsset_prop(t, "1", "7");
            r && (_.sh = {
                marketName: "上海A股",
                marketCode: q.ClientManager.getAccountId(r) || "",
                custoNum: e,
                fundAccount: r.fund_account || "",
                yMTAccount: r.acode_account || "",
                stockHolder: q.ClientManager.getAccountName(r) || ""
            });
            var i = q.ClientManager.getAccountByMarketAndAsset_prop(t, "2", "7");
            i && (_.sz = {
                marketName: "深圳A股",
                marketCode: q.ClientManager.getAccountId(i) || "",
                custoNum: e,
                fundAccount: i.fund_account || "",
                yMTAccount: i.acode_account || "",
                stockHolder: q.ClientManager.getAccountName(i) || ""
            }),
            w[7] = q.ClientManager.getAccountId(q.ClientManager.getFundAccount(t));
            var l = q.ClientManager.getBankAccounts(t);
            return l.forEach(function (e) {
                if (e.fund_account === w[7]) return b[7] = e.bank_no
            }),
            a.emit("credit.login", null, _),
            "function" == typeof n ? n(null, _) : void 0
        },
    f = function (e, t) {
            s[e] = {
                res: t
            };
            var n = q.ClientManager.getFundAccount(t),
                r = n.id_kind,
                i = n.client_age,
                l = n.organ_prop,
                o = n.client_rights,
                u = q.ClientManager.getAccountByMarketAndAsset_prop(t, "1", "0");
            x[1] = s[e].sh_no = u ? u.stock_account : "",
            u = q.ClientManager.getAccountByMarketAndAsset_prop(t, "2", "0"),
            x[2] = s[e].sz_no = u ? u.stock_account : "",
            u = q.ClientManager.getAccountByMarketAndAsset_prop(t, "D", "0"),
            x.D = s[e].sh_b_no = u ? u.stock_account : "",
            u = q.ClientManager.getAccountByMarketAndAsset_prop(t, "H", "0"),
            x.H = s[e].sz_b_no = u ? u.stock_account : "",
            w[0] = q.ClientManager.getFundAccount(t).fund_account;
            for (var a = q.ClientManager.getBankAccounts(t), c = [], f = [], h = 0, p = a.length; h < p; h++) {
                    var d = a[h],
                        g = d.fund_account;
                    if (g === w[0]) {
                            var y = d.money_type,
                                v = {};
                            v.money_type = y,
                            v.money_type_name = M.
                        default.getMoneyTypeName(y),
                            v.currency = ["CNY", "USD", "HKD"][y],
                            f.push(v.currency),
                            v.bank_name = q.ClientManager.getAccountName(d) + "(" + ["人民币", "美元", "港币"][y] + ")",
                            v.bank_no = d.bank_no,
                            v.fund_account = g,
                            c.push(v)
                        }
                }
            return s[e].res.bank_accounts = c,
            s[e].res.money_types = f,
            s[e].id_kind = r,
            s[e].client_age = i,
            s[e].organ_prop = l,
            s[e].client_rights = o,
            s[e]
        },
    a = {
            verifyCaptcha: !1,
            scope_credit_accounts: _,
            creditLogin: function (e, t, n) {
                var r, i, l;
                r = L.
            default.getInstance().clientManager,
                l = "T:" + e + ":" + t,
                i = r.login(l, k);
                var o = (new Date).getTime(),
                    u = "gf_trader_creditTradeLogin";
                m(r, i, function (t, r) {
                        var i = (new Date).getTime() - o;
                        return t ? (t.error_no === -2 && (/^\[140157\]/.test(t.error_msg) && (t.error_no = -20, t.error_msg = "[140157][您暂未开通信用账户]"), /^\[120047\]/.test(t.error_msg) && (t.error_no = -21), /^\[120039\]/.test(t.error_msg) && (t.error_no = -22)), a.emit("credit.login", t), "function" == typeof n ? n(t) : void C.
                    default.reportErr(u, {
                            trade_id: e
                        }, i)) : (C.
                    default.report(u, {
                            trade_id: e
                        }, i), c(e, r.data, n))
                    })
            },
            getCreditAssets: function (e) {
                var t, n, r, i, l, o;
                t = L.
            default.getInstance().creditQueryManager,
                o = t.qryLiabilitySummary("", ""),
                m(t, o, function (t, o) {
                    if (t) return "function" == typeof e ? e(t) : void 0;
                    r = o.data,
                    n = r[0],
                    i = {};
                    for (l in n) i[h(l)] = n[l];
                    i.fetchBalance = r[1].fetch_balance,
                    "function" == typeof e && e(null, i)
                })
            },
            qryCreditAmount: function (e, t) {
                var n, r, i, l, u, a, s, c, f, h, p, g, v, b, _;
                r = L.
            default.getInstance().creditQueryManager,
                p = e.query_type || "",
                u = e.entrust_bs || "0",
                s = String(e.entrust_prop || "0"),
                a = e.entrust_price || 1,
                n = 1,
                b = e.code,
                c = y(e.market),
                v = d(e.market),
                _ = 50,
                g = o(e.exchangeType),
                h = r.qryAmount(p, u, s, a, n, b, c, g, v, _),
                m(r, h, function (e, n) {
                    return e ? "function" == typeof t ? t(e) : void 0 : (f = n.data[0], l = f.enable_amount, i = {
                        enable_amount: l
                    }, "finNonTrade" === p && "G" === u && (i.enable_return_amount = f.enable_return_amount), void("function" == typeof t && t(null, l)))
                })
            },
            qryCreditPosi: function (e, t) {
                var n, r, i, l, o, u, a;
                n = L.
            default.getInstance().creditQueryManager,
                u = "",
                e.market && e.code ? (a = e.code, r = y(e.market)):
                (a = "", r = ""),
                i = String(e.page_size || ""),
                l = e.position_str || "",
                o = n.qryPosi(u, a, r, i, l),
                m(n, o, function (e, n) {
                    if (e) return void("function" == typeof t && t(e));
                    var r = n.data.map(function (e) {
                        var t = {};
                        for (var n in e) t[h(n)] = e[n];
                        return t.market = M.
                    default.exchangeTypeToMarket(t.exchangeType),
                        t.marketName = M.
                    default.getExchageTypeName(t.exchangeType),
                        t
                    });
                    "function" == typeof t && t(null, {
                        count: r.length,
                        data: r
                    })
                })
            },
            qryCreditEntrust: function (e, t) {
                var n, r, i, l, o, u;
                n = L.
            default.getInstance().creditQueryManager,
                o = e.query_type || 7,
                u = "SECLOAN",
                r = String(e.page_size || ""),
                i = e.position_str || "",
                l = n.qryEntrust(o, u, r, i),
                m(n, l, function (e, n) {
                    if (e) return "function" == typeof t ? t(e) : void 0;
                    var r = n.data.map(function (e) {
                        var t = {};
                        for (var n in e) {
                            t[h(n)] = e[n],
                            t.entrustStatusName = M.
                        default.getEntrustStatusName(t.entrustStatus);
                            var r = Number(t.entrustStatus);
                            0 === r || 2 === r || 7 === r ? t.cancelable = !0:
                            t.cancelable = !1
                        }
                        return t
                    });
                    "function" == typeof t && t(null, {
                        count: r.length,
                        data: r
                    })
                })
            },
            qryCreditHisEntrust: function (e, t) {
                var n, r, i, l, o, u, a, s;
                n = L.
            default.getInstance().creditQueryManager,
                o = e.query_type || 0,
                u = e.start_date,
                a = e.end_date,
                s = "SECLOAN",
                r = String(e.page_size || ""),
                i = e.position_str || "",
                l = n.qryHisEntrust(o, u, a, "", "", s, "", r, i),
                m(n, l, function (e, n) {
                    if (e) return "function" == typeof t ? t(e) : void 0;
                    var r = n.data.map(function (e) {
                        var t = {};
                        for (var n in e) t[h(n)] = e[n];
                        return t
                    });
                    "function" == typeof t && t(null, {
                        count: r.length,
                        data: r
                    })
                })
            },
            qryNewStockBuyLimit: function (e, t) {
                var n, r, i, l = L.
            default.getInstance().creditQueryManager,
                    o = L.
            default.getInstance().stockQueryManager;
                i = "0",
                n = "";
                var u = void 0;
                e ? (r = l.qryNewStockBuyLimit(i, n), u = l):
                (r = o.qryNewStockBuyLimit(i, n), u = o),
                m(u, r, function (e, n) {
                        return e ? "function" == typeof t ? t(e) : void 0 : (n.data.forEach(function (e) {
                            e.market_name = M.
                        default.getExchageTypeName(e.exchange_type)
                        }), void("function" == typeof t && t(null, {
                            count: n.data.length,
                            data: n.data
                        })))
                    })
            },
            qryCreditFundJournal: function (e, t) {
                var n, r, i, l, o, u, a;
                n = L.
            default.getInstance().creditQueryManager,
                r = "RMB",
                i = e.start_date || "",
                l = e.end_date || "",
                o = String(e.page_size || ""),
                u = e.position_str || "",
                a = n.qryFundJournal(r, i, l, o, u),
                m(n, a, function (e, n) {
                    if (e) return "function" == typeof t ? t(e) : void 0;
                    var r = n.data.map(function (e) {
                        var t = {};
                        for (var n in e) t[h(n)] = e[n];
                        return t
                    });
                    "function" == typeof t && t(null, {
                        count: r.length,
                        data: r
                    })
                })
            },
            qryCreditRtContractJournal: function (e, t) {
                var n, r, i, l, o, u, a, s, c, f;
                i = L.
            default.creditQueryManager,
                s = "0",
                r = String(e.compact_type),
                c = "",
                f = "",
                n = "",
                l = "",
                o = String(e.page_size || ""),
                u = e.position_str || "",
                a = i.qryRtContractJournal(s, c, n, r, f, l, o, u),
                m(i, a, function (e, n) {
                    if (e) return "function" == typeof t ? t(e) : void 0;
                    var r = n.data.map(function (e) {
                        var t = {};
                        for (var n in e) t[h(n)] = e[n];
                        return t
                    });
                    "function" == typeof t && t(null, {
                        count: r.length,
                        data: r
                    })
                })
            },
            qryCreditCollateralSecurities: function (e, t) {
                var n, r, i, l, o, u;
                u = e.code,
                r = y(e.market),
                i = "",
                l = "",
                n = L.
            default.getInstance().creditQueryManager,
                o = n.qryCollateralSecurities(u, r, i, l),
                m(n, o, function (e, n) {
                    if (e) return "function" == typeof t ? t(e) : void 0;
                    var r = n.data.length;
                    if (0 === r) return e = {
                        error_code: -1,
                        error_msg: "非规定担保品证券"
                    },
                    "function" == typeof t ? t(e) : void 0;
                    var i = n.data.map(function (e) {
                        var t = {};
                        for (var n in e) t[h(n)] = e[n];
                        return t.market = M.
                    default.exchangeTypeToMarket(t.exchangeType),
                        t.marketName = M.
                    default.getExchageTypeName(t.exchangeType),
                        t
                    });
                    return "function" == typeof t ? t(null, i[0]) : void 0
                })
            },
            qryCreditUnderlyingSecurities: function (e, t) {
                var n, r, i, l, o, u, a, s;
                l = "2",
                s = e.code,
                i = y(e.market),
                o = "",
                u = "",
                r = L.
            default.getInstance().creditQueryManager,
                a = r.qryUnderlyingSecurities(l, s, i, o, u),
                m(r, a, function (e, r) {
                    if (e) return "function" == typeof t ? t(e) : void 0;
                    if (n = r.data.length, 0 === n) return e = {
                        error_code: -1,
                        error_msg: "非规定标的证券"
                    },
                    "function" == typeof t ? t(e) : void 0;
                    var i = r.data.map(function (e) {
                        var t = {};
                        for (var n in e) t[h(n)] = e[n];
                        return t.market = M.
                    default.exchangeTypeToMarket(t.exchangeType),
                        t.marketName = M.
                    default.getExchageTypeName(t.exchangeType),
                        t.sloStatusName = M.
                    default.getTargetStatusName(t.sloStatus),
                        t.finStatusName = M.
                    default.getTargetStatusName(t.finStatus),
                        t
                    });
                    "function" == typeof t && t(null, i[0])
                })
            },
            qryCreditDeal: function (e, t) {
                var n, r, i, l, o, u;
                o = 0,
                u = "SECLOAN",
                r = String(e.page_size),
                i = e.position_str || "",
                n = L.
            default.getInstance().creditQueryManager,
                l = n.qryDeal(o, u, r, i),
                m(n, l, function (e, n) {
                    if (e) return "function" == typeof t ? t(e) : void 0;
                    var r = n.data.map(function (e) {
                        var t = {};
                        for (var n in e) t[h(n)] = e[n];
                        return t
                    });
                    "function" == typeof t && t(null, {
                        count: r.length,
                        data: r
                    })
                })
            },
            qryCreditHisDeal: function (e, t) {
                var n, r, i, l, o, u, a, s;
                a = 0,
                s = "SECLOAN",
                l = String(e.page_size),
                r = e.start_date,
                i = e.end_date,
                o = e.position_str || "",
                n = L.
            default.getInstance().creditQueryManager,
                u = n.qryHisDeal(a, r, i, "", "", s, "", l, o),
                m(n, u, function (e, n) {
                    if (e) return "function" == typeof t ? t(e) : void 0;
                    var r = n.data.map(function (e) {
                        var t = {};
                        for (var n in e) t[h(n)] = e[n];
                        return t
                    });
                    "function" == typeof t && t(null, {
                        count: r.length,
                        data: r
                    })
                })
            },
            collateralEntrust: function (e, t) {
                var n, r, i, l, o, u, a, s, c;
                n = L.
            default.getInstance().creditOrderManager,
                c = e.code,
                s = y(e.market),
                l = String(e.entrust_bs),
                a = String(e.entrust_prop),
                i = e.entrust_amount,
                u = e.entrust_price || 0,
                r = n.collateralEntrust(c, s, l, i, a, u),
                m(n, r, function (e, n) {
                    return e ? "function" == typeof t ? t(e) : void 0 : (o = n.data[0].entrust_no, void("function" == typeof t && t(null, o)))
                })
            },
            openOrder: function (e, t) {
                var n, r, i, l, o, u, a, s, c;
                n = L.
            default.getInstance().creditOrderManager,
                c = e.code,
                s = y(e.market),
                l = String(e.entrust_bs),
                a = String(e.entrust_prop),
                i = e.entrust_amount,
                u = e.entrust_price || 0,
                r = n.openOrder(c, s, l, i, a, u),
                m(n, r, function (e, n) {
                    return e ? "function" == typeof t ? t(e) : void 0 : (o = n.data[0].entrust_no, void("function" == typeof t && t(null, o)))
                })
            },
            closeOrder: function (e, t) {
                var n, r, i, l, o, u, a, s, c, f;
                r = L.
            default.getInstance().creditOrderManager,
                f = e.code,
                c = y(e.market),
                o = String(e.entrust_bs),
                s = String(e.entrust_prop),
                l = e.entrust_amount,
                a = e.entrust_price || 0,
                n = e.compact_ids,
                i = P.
            default.isArray(n && n.length > 0) ? r.closeOrderWithContract(f, c, o, l, s, a, n):
                e.special ? r.closeOrderSpecial(f, c, o, l, s, a) : r.closeOrder(f, c, o, l, s, a),
                m(r, i, function (e, n) {
                    return e ? "function" == typeof t ? t(e) : void 0 : (u = n.data[0].entrust_no, void("function" == typeof t && t(null, u)))
                })
            },
            fundTransfer: function (e, t) {
                var n, r, i, l, o, u;
                r = L.
            default.getInstance().creditOrderManager,
                l = "CNY",
                o = e.occur_balance,
                n = e.compact_ids,
                u = P.
            default.isArray(n && n.length > 0) ? r.fundTransferWithContract(o, l, n):
                r.fundTransferWithoutContract(o, l),
                m(r, u, function (e, n) {
                    return e ? "function" == typeof t ? t(e) : void 0 : (i = n.data[0].entrust_no, void("function" == typeof t && t(null, i)))
                })
            },
            securitiesTransfer: function (e, t) {
                var n, r, i, l, o, u, a;
                r = L.
            default.getInstance().creditOrderManager,
                u = e.code,
                o = y(e.market),
                i = e.entrust_amount,
                n = e.compact_ids,
                a = e.special ? P.
            default.isArray(n && n.length > 0) ? r.securitiesTransferSpecWithContract(u, o, n, i):
                r.securitiesTransferSpecWithoutContract(u, o, i) : r.securitiesTransferWithoutContract(u, o, i),
                m(r, a, function (e, n) {
                    return e ? "function" == typeof t ? t(e) : void 0 : (l = n.data[0].entrust_no, void("function" == typeof t && t(null, l)))
                })
            },
            qryMarginTradingDebt: function (e, t) {
                var n, r, i, l, o, u, a, s, c, f, p, d, g;
                l = L.
            default.getInstance().creditQueryManager,
                f = String(e.sort_type),
                d = "",
                n = e.compact_id || "",
                i = String(e.compact_type),
                void 0 === i && (i = ""),
                r = "0",
                e.market && e.code ? (u = y(e.market), g = e.code):
                (g = "", u = ""),
                p = e.start_date || "",
                o = e.end_date || "",
                a = String(e.page_size),
                s = e.position_str || "",
                c = l.qryMarginTradingDebt(f, d, n, i, r, g, u, p, o, a, s),
                m(l, c, function (e, n) {
                    if (e) return "function" == typeof t ? t(e) : void 0;
                    var r = n.data.map(function (e) {
                        var t = {};
                        for (var n in e) t[h(n)] = e[n];
                        return t.compactStatusName = M.
                    default.getCompactStatusName(t.compactStatus),
                        t.marketName = M.
                    default.getExchageTypeName(t.exchangeType),
                        t.market = M.
                    default.exchangeTypeToMarket(t.exchangeType),
                        t.compactTypeName = M.
                    default.getCompactTypeName(t.compactType),
                        t
                    });
                    "function" == typeof t && t(null, {
                        count: r.length,
                        data: r
                    })
                })
            },
            qryCreditBankBalance: function (e, t) {
                var n, r, i, l, o, u, a = this;
                r = L.
            default.getInstance().creditQueryManager,
                n = b[7],
                i = "RMB",
                l = e.password || "",
                o = r.qryBankBalance(i, l, n),
                m(r, o, function (e, r) {
                    return e ? "function" == typeof t ? t(e) : void 0 : (u = r.data[0].serial_no, void a.qryCreditTransferJournal({
                        bank_no: n,
                        entrust_no: u
                    }, function (e, n) {
                        var r;
                        return e ? "function" == typeof t ? t(e) : void 0 : (r = n.data[0].occurBalance, void("function" == typeof t && t(null, r)))
                    }))
                })
            },
            qryCreditTransferJournal: function (e, t) {
                var n, r, i, l, o, u, a, s;
                r = L.
            default.getInstance().creditQueryManager,
                n = e.bank_no || "",
                l = e.entrust_no || "",
                s = "",
                i = "",
                o = "500",
                u = "",
                a = r.qryTransferJournal(n, l, s, i, o, u),
                m(r, a, function (e, n) {
                    if (e) return "function" == typeof t ? t(e) : void 0;
                    var r = n.data.map(function (e) {
                        var t = {};
                        for (var n in e) t[h(n)] = e[n];
                        return t.moneyTypeName = M.
                    default.getMoneyTypeName(t.moneyType),
                        t.bankEntrustStatusName = M.
                    default.getBankEntrustStatusName(t.entrustStatus),
                        t
                    });
                    r.sort(function (e, t) {
                        return Number(t.entrustTime) - Number(e.entrustTime)
                    }),
                    "function" == typeof t && t(null, {
                        count: r.length,
                        data: r
                    })
                })
            },
            collateralTransfer: function (e, t) {
                var n, r, i, l, o, u, a, s, c, f, h;
                n = L.
            default.getInstance().creditOrderManager,
                c = e.transfer_bs,
                h = 0,
                f = "",
                i = e.market,
                u = e.code,
                r = y(i),
                l = Number(e.quantity),
                o = "",
                a = e.exchangeType,
                3 == c && (o = x[a]),
                4 == c && ("sh" === i && (o = _.sh.marketCode), "sz" === i && (o = _.sz.marketCode)),
                s = n.collateralTransfer(c, h, f, o, u, r, l),
                m(n, s, function (e, n) {
                    return e ? "function" == typeof t ? t(e) : void 0 : void("function" == typeof t && t(null, n.data[0].entrust_no))
                })
            },
            cancelCreditEntrust: function (e, t) {
                var n, r, i, l, o, u;
                n = L.
            default.getInstance().creditOrderManager,
                i = e.entrust_no,
                r = "0",
                u = "CASH",
                l = "",
                o = n.cancelentrust(i, r, u, l),
                m(n, o, function (e, n) {
                    return e ? "function" == typeof t ? t(e) : void 0 : void("function" == typeof t && t(null, n.data[0].entrust_no))
                })
            },
            changePassword: function (e, t) {
                var n, r, i, l, o, u, a, s;
                r = L.
            default.getInstance().clientManager,
                n = String(e.change_type),
                s = 3,
                l = w[String(e.account_type)],
                o = e.new_password,
                u = e.old_password,
                i = e.confirm_password,
                a = r.changePassword(n, s, l, u, o, i),
                m(r, a, function (e, n) {
                    return e ? (e.error_no === -2 && n.error_no === -1 && (e.error_msg = e.error_whole_msg = "新密码与旧密码不能相同"), e.error_no === -2 && n.error_no === -2 && (e.error_msg = e.error_whole_msg = "两次输入的密码不一致"), "function" == typeof t ? t(e) : void 0) : "function" == typeof t ? t(null, {}) : void 0
                })
            },
            reconnectTradeServer: function () {
                return L.
            default.getInstance().transport.reconnect()
            },
            generate_code: function () {
                return L.
            default.getInstance().transport.send(JSON.stringify({
                    topic: "sys.captcha",
                    data: {
                        method: "generate"
                    }
                }))
            },
            session_timeout: function (e) {
                var t = 144e5;
                return e > t && (e = t),
                L.
            default.getInstance().transport.send(JSON.stringify({
                    topic: "sys.userManager",
                    data: {
                        method: "timeout",
                        timeout: e
                    }
                }))
            },
            verify_code: function (e) {
                return L.
            default.getInstance().transport.send(JSON.stringify({
                    topic: "sys.captcha",
                    data: {
                        method: "verify",
                        captcha: e
                    }
                }))
            },
            accounts: s = {},
            clearAllTimeout: function () {
                var e, t, n;
                t = [];
                for (e in E) n = E[e],
                clearTimeout(n),
                t.push(n = null);
                return t
            },
            loginOut: function () {
                return l(),
                L.
            default.getInstance().transport.reconnect(),
                s = {}
            },
            loginByToken: function (e, t, n) {
                var r = L.
            default.getInstance().clientManager;
                t = unescape(encodeURIComponent(t));
               
                var i = JSON.stringify({
                    token: JSON.parse(t)
                }),
                    l = r.login("N", i);
                m(r, l, function (t, r) {
                        return t ? (console.log(t), "function" == typeof n ? n(t) : void 0, void a.emit("trade.logout", {}, "loginByToken")) : (r = f(e, r.data), console.log("Trade.js, loginByToken, emit(trade.login)"), a.emit("trade.login", u(r), "loginByToken"), void n(null, r))
                    })
            },
            creditLoginByToken: function (e, t, n) {
                t = unescape(encodeURIComponent(t));
                var r = JSON.stringify({
                    token: JSON.parse(t)
                }),
                    i = L.
            default.getInstance().clientManager,
                    l = i.login("T", r);
                m(i, l, function (t, r) {
                        return t ? "function" == typeof n ? n(t) : void 0 : c(e, r.data, n)
                    })
            },
            login: function (e, t, n, r) {
                var i, l, o;
                i = L.
            default.getInstance().clientManager,
                o = "N:" + e + ":" + t,
                k = JSON.stringify(n),
                l = i.login(o, k);
                var s = (new Date).getTime(),
                    c = "gf_trader_tradeLogin";
                m(i, l, function (t, n) {
                        var i = (new Date).getTime() - s;
                        if (t) return "function" == typeof r && r(t),
                        void C.
                    default.reportErr(c, {
                            trade_id: e
                        }, i, t.error_no, t.error_msg);
                        n = f(e, n.data),
                        a.verifyCaptcha = !1,
                        r(null, n);
                        var l = u(n);
                        sessionStorage.trade_id = l.id,
                        a.emit("trade.login", l)
                    })
                  alert(i);
            },
            isTradeLogin: function (e) {
                var t;
                return null != (t = s[e]) ? t.res : void 0
            },
            order: function e(t, n) {
                var r = t.code,
                    i = t.exchangeType,
                    l = "CS",
                    u = y(t.market),
                    a = o(t.exchangeType),
                    s = "" + t.entrust_bs,
                    c = "",
                    f = "" + t.amount,
                    h = "" + t.entrust_prop,
                    p = "0" === h ? t.price : 0,
                    d = "CNY",
                    g = L.
            default.getInstance().stockOrderManager,
                    e = g.order(r, i, l, u, a, s, c, f, h, p, d),
                    v = (new Date).getTime(),
                    b = "gf_trader_order";
                m(g, e, function (e, r) {
                        var i = (new Date).getTime() - v;
                        return e ? (C.
                    default.reportErr(b, t, i, e.error_no, e.error_msg), "function" == typeof n ? n(e):
                        void 0) : (C.
                    default.report(b, t, i), void("function" == typeof n && n(null, r.data[0].entrust_no)))
                    })
            },
            qryamount: function (e, t) {
                var n = e.entrust_bs,
                    r = e.entrust_prop || "0",
                    i = e.price ? "" + e.price : "",
                    l = e.code,
                    u = y(e.market),
                    a = o(e.exchangeType),
                    s = "",
                    c = "5",
                    f = L.
            default.getInstance().stockQueryManager,
                    h = f.qryAmount(n, r, i, l, u, a, s, c);
                m(f, h, function (n, r) {
                        if (n) return "function" == typeof t ? t(n) : void 0;
                        var i = e.wholeData ? r.data : r.data[0].enable_amount;
                        "function" == typeof t && t(null, i)
                    })
            },
            canceltrust: function e(t, n, r) {
                var e, i, l;
                null == t && (t = ""),
                l = L.
            default.getInstance().stockOrderManager,
                i = "0",
                e = l.cancelentrust(n, i, "CS", ""),
                m(l, e, function (e, t) {
                    return e ? "function" == typeof r ? r(e) : void 0 : void("function" == typeof r && r(null, t.data))
                })
            },
            qryentrust: function (e, t, n, r) {
                var i, l, o, u, a, s, c;
                null == e && (e = "0"),
                null == t && (t = ""),
                c = L.
            default.getInstance().stockQueryManager,
                i = "",
                s = "",
                o = "",
                a = "1",
                l = "",
                u = c.qryEntrust(i, e, t, String(n), s, o, a, l),
                m(c, u, function (e, t) {
                    return e ? "function" == typeof r ? r(e) : void 0 : (t.data.forEach(function (e) {
                        e.entrust_time = p(e.entrust_time)
                    }), void("function" == typeof r && r(null, {
                        raw: t,
                        total: t.data.length,
                        jsons: t.data
                    })))
                })
            },
            qryhisentrust: function (e, t, n, r, i) {
                var l, o, u, a, s;
                s = L.
            default.getInstance().stockQueryManager,
                l = "",
                a = "",
                o = "",
                u = s.qryHisEntrust(l, n, String(r), a, o, e, t),
                m(s, u, function (e, t) {
                    return e ? "function" == typeof i ? i(e) : void 0 : (t.data.forEach(function (e) {
                        e.entrust_date = p(e.entrust_date, "-"),
                        e.entrust_time = p(e.entrust_time, ":")
                    }), void("function" == typeof i && i(null, {
                        raw: t,
                        total: t.data.length,
                        jsons: t.data
                    })))
                })
            },
            qryfund: function (e, t) {
                var n, r;
                r = L.
            default.getInstance().stockQueryManager,
                n = r.qryFund(e.currency),
                m(r, n, function (e, n) {
                    if (e) return "function" == typeof t ? t(e) : void 0;
                    var r = n.data;
                    return "function" == typeof t ? t(null, r) : void 0
                })
            },
            qryhisdeal: function (e, t, n, r, i) {
                var l, o, u, a, s;
                null == e && (e = ""),
                null == t && (t = ""),
                null == n && (n = ""),
                s = L.
            default.getInstance().stockQueryManager,
                l = "",
                o = "",
                a = "",
                u = s.qryHisDeal(l, n, String(r), a, o, e, t),
                m(s, u, function (e, t) {
                    return e ? "function" == typeof i ? i(e) : void 0 : (t.data.forEach(function (e) {
                        e.init_date = p(e.init_date, "-"),
                        e.business_time = p(e.business_time, ":")
                    }), void("function" == typeof i && i(null, {
                        raw: t,
                        total: t.data.length,
                        jsons: t.data
                    })))
                })
            },
            qrydeal: function (e, t, n, r) {
                var i, l, o, u, a, s;
                null == e && (e = ""),
                null == t && (t = ""),
                s = L.
            default.getInstance().stockQueryManager,
                i = "",
                a = "",
                l = "",
                u = "1",
                o = s.qryDeal(i, t, String(n), a, l, u),
                m(s, o, function (e, t) {
                    return e ? "function" == typeof r ? r(e) : void 0 : (t.data.forEach(function (e) {
                        e.business_time = p(e.business_time)
                    }), void("function" == typeof r && r(null, {
                        raw: t,
                        total: t.data.length,
                        jsons: t.data
                    })))
                })
            },
            bankTransfer: function (e, t) {
                var n, r, i, l, o, u, a, s;
                a = L.
            default.getInstance().thirdOrderManager,
                n = e.amount,
                u = "VADJ",
                i = e.currency || "CNY",
                r = o = e.password || "",
                l = e.fund_account || w[e.type],
                s = a.bankTransfer(n, u, i, l, r, o),
                m(a, s, function (e, n) {
                    return e ? "function" == typeof t && t(e) : void("function" == typeof t && t(null, n.entrust_no))
                })
            },
            qryBankBalance: function (e, t) {
                var n, r, i, l, o;
                r = L.
            default.getInstance().stockQueryManager,
                n = e.bank_no || "",
                i = e.currency || "",
                l = e.password || "",
                o = r.qryBankBalance(i, l, n),
                m(r, o, function (e) {
                    if (e) return "function" == typeof t ? t(e) : void 0;
                    var i = r.qryTransJour("", "2", n);
                    m(r, i, function (e, n) {
                        if (e) return "function" == typeof t ? t(e) : void 0;
                        var r = n.data[0];
                        if (r) {
                            var i = r.occur_balance;
                            return "function" == typeof t ? t(null, i) : void 0
                        }
                        "function" == typeof t ? t(H) : void 0
                    })
                })
            },
            qrytransjour: function (e, t) {
                var n, r, i, l, o;
                return o = L.
            default.getInstance().stockQueryManager,
                i = e.page_size,
                n = String(e.bank_no || ""),
                r = e.page_index,
                e.refresh === !0 && (S = []),
                S.length > 0 ? "function" == typeof t ? t(null, v(S, i, r)):
                void 0 : (l = o.qryTransJour("", "500", n), void m(o, l, function (e, n) {
                    if (e) return "function" == typeof t ? t(e) : void 0;
                    var r = n.data.filter(function (e) {
                        return e.fund_account === w[0]
                    });
                    return r.forEach(function (e) {
                        e.entrust_time_number = e.entrust_time,
                        e.entrust_time = p(e.entrust_time),
                        e.bank_entrust_status_name = M.
                    default.getBankEntrustStatusName(e.entrust_status)
                    }),
                    r.sort(function (e, t) {
                        return Number(t.entrust_time_number) - Number(e.entrust_time_number)
                    }),
                    S = r,
                    "function" == typeof t ? t(null, v(S, i, 1)) : void 0
                }))
            },
            qryposi: function (e, t) {
                var n = L.
            default.getInstance().stockQueryManager,
                    r = "",
                    i = e.stock_code || "",
                    l = void 0,
                    o = void 0,
                    u = void 0,
                    a = void 0;
                l = "",
                o = String(e.page_size || ""),
                u = e.position_str || "",
                a = n.qryPosi(r, u, o, l, i),
                m(n, a, function (e, n) {
                        return e ? void("function" == typeof t && t(e)) : (n.data.forEach(function (e) {
                            e.market = M.
                        default.exchangeTypeToMarket(e.exchange_type),
                            e.market_name = M.
                        default.getExchageTypeName(e.exchange_type)
                        }), void("function" == typeof t && t(null, {
                            count: n.data.length,
                            data: n.data
                        })))
                    })
            },
            qrydeliver: function (e, t, n, r) {
                var i, l;
                null == e && (e = ""),
                null == t && (t = ""),
                null == n && (n = ""),
                l = L.
            default.getInstance().stockQueryManager,
                i = l.qrydelivery("", "", "", e, t, n, "20"),
                m(l, i, function (e, t) {
                    return e ? void("function" == typeof r && r(e)) : void("function" == typeof r && r(null, t.data))
                })
            },
            qryHisContractJournal: function (e, t) {
                var n, r, i, l, o, u, a, s, c, f, p, d;
                a = String(e.page_size || ""),
                s = e.position_str || "",
                u = "1",
                p = "",
                n = "",
                r = String(e.compact_type),
                d = "",
                o = "",
                f = String(e.start_date || ""),
                l = String(e.end_date || ""),
                i = L.
            default.getInstance().creditQueryManager,
                c = i.qryHisContractJournal(u, p, n, r, d, o, f, l, a, s),
                m(i, c, function (e, n) {
                    if (e) return "function" == typeof t ? t(e) : void 0;
                    var r = n.data.map(function (e) {
                        var t = {};
                        for (var n in e) t[h(n)] = e[n];
                        return t.compactStatusName = M.
                    default.getCompactStatusName(t.compactStatus),
                        t
                    });
                    "function" == typeof t && t(null, {
                        count: r.length,
                        data: r
                    })
                })
            },
            qrySecurity: function (e, t) {
                var n, r, i, l, o, u, a, s, c;
                c = e.code,
                o = 0,
                u = "",
                a = "",
                s = "",
                r = "",
                i = "",
                n = L.
            default.getInstance().creditQueryManager,
                l = n.qrySecurityList(o, u, a, c, s, r, i),
                m(n, l, function (e, n) {
                    if (e) return "function" == typeof t ? t(e) : void 0;
                    var r = n.data.map(function (e) {
                        var t = {};
                        for (var n in e) t[h(n)] = e[n];
                        return t.market = M.
                    default.exchangeTypeToMarket(e.exchange_type),
                        t
                    });
                    "function" == typeof t && t(null, {
                        count: r.length,
                        data: r
                    })
                })
            },
            qryNewStockNumber: function (e, t) {
                var n = "0",
                    r = String(e.page_size || 10),
                    i = e.position_str || "",
                    l = e.start_date || "",
                    o = e.end_date || "",
                    u = e.is_credit || !1,
                    a = u ? L.
            default.getInstance().creditQueryManager:
                L.
            default.getInstance().stockQueryManager,
                    s = a.qryNewStockNumber(n, "", "", "", l, o, r, i);
                m(a, s, function (e, n) {
                        return e ? "function" == typeof t ? t(e) : void 0 : void("function" == typeof t && t(null, {
                            count: n.data.length,
                            data: n.data
                        }))
                    })
            },
            qryNewStockWinning: function (e, t) {
                var n = "0",
                    r = String(e.page_size || 10),
                    i = e.position_str || "",
                    l = e.start_date || "",
                    o = e.end_date || "",
                    u = e.is_credit || !1,
                    a = u ? L.
            default.getInstance().creditQueryManager:
                L.
            default.getInstance().stockQueryManager,
                    s = a.qryNewStockWinning(n, "", "", "", l, o, r, i);
                m(a, s, function (e, n) {
                        return e ? "function" == typeof t ? t(e) : void 0 : void("function" == typeof t && t(null, {
                            count: n.data.length,
                            data: n.data
                        }))
                    })
            },
            StkAssetSecuprtTrade: function (e) {
                return void 0 === e.entrust_price && (e.entrust_price = 0),
                j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("StkAssetSecuprtTrade", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            StkAssetSecuprtTradeWithdraw: function (e) {
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("StkAssetSecuprtTradeWithdraw", {
                        entrust_nos: e
                    }, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QryStkAssetSecuprtTrade: function (e) {
                return !e.stock_type && (e.stock_type = "D"),
                j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("QryStkAssetSecuprtTrade", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QryStkAssetSecuprtRealtime: function (e) {
                return !e.stock_type && (e.stock_type = "D"),
                j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("QryStkAssetSecuprtRealtime", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QryStkAssetSecuprtHisTrade: function (e) {
                return !e.stock_type && (e.stock_type = "D"),
                j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("QryStkAssetSecuprtHisTrade", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QryStkAssetSecuprtQuot: function (e) {
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("QryStkAssetSecuprtQuot", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QryStkAssetSecuprtEnBalance: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("QryStkAssetSecuprtEnBalance", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QryStkAssetSecuprtEnAmount: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("QryStkAssetSecuprtEnAmount", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            ProductCenterOrderInit: function (e) {
                return e.fixTopic = "HSUF.GFTRADE",
                j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("ProductCenterOrderInit", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            ProductCenterAgreeSign: function (e) {
                return e.fixTopic = "HSUF.GFTRADE",
                j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("ProductCenterAgreeSign", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QueryStkFundCodeInfo: function (e) {
                return e.fixTopic = "HSUF.GFTRADE",
                j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("QueryStkFundCodeInfo", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            StockFundEntrust: function (e) {
                return e.fixTopic = "HSUF.GFTRADE",
                j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("StockFundEntrust", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            StockFundWithdraw: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return e.fixTopic = "HSUF.GFTRADE",
                j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("StockFundWithdraw", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QueryStkFundEntrust: function (e) {
                return e.fixTopic = "HSUF.GFTRADE",
                j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("QueryStkFundEntrust", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QueryStkFundHisEntrust: function (e) {
                return e.fixTopic = "HSUF.GFTRADE",
                j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("QueryStkFundHisEntrust", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            StuctFundMerge: function (e, t) {
                e.fixTopic = "HSUF.GFTRADE";
                var n = "";
                return t = t && t.toLowerCase(),
                "sh" === t ? n = "StuctFundMergeSh" : "sz" === t && (n = "StuctFundMergeSz"),
                j.
            default.promise(function (t, r) {
                    L.
                default.sendRequest(n, e, function (e, n) {
                        e ? r(e) : t(n)
                    })
                })
            },
            StuctFundSplit: function (e, t) {
                e.fixTopic = "HSUF.GFTRADE";
                var n = "";
                return t = t && t.toLowerCase(),
                "sh" === t ? n = "StuctFundSplitSh" : "sz" === t && (n = "StuctFundSplitSz"),
                j.
            default.promise(function (t, r) {
                    L.
                default.sendRequest(n, e, function (e, n) {
                        e ? r(e) : t(n)
                    })
                })
            },
            StuctFundEnableNumSh: function (e) {
                return e.fixTopic = "HSUF.GFTRADE",
                j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("StuctFundEnableNumSh", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            StuctFundCancel: function (e, t) {
                e.fixTopic = "HSUF.GFTRADE";
                var n = "";
                return t = t && t.toLowerCase(),
                "sh" === t ? n = "StuctFundCancelSh" : "sz" === t && (n = "StuctFundCancelSz"),
                j.
            default.promise(function (t, r) {
                    L.
                default.sendRequest(n, e, function (e, n) {
                        e ? r(e) : t(n)
                    })
                })
            },
            StuctFundInfo: function (e, t) {
                e.fixTopic = "HSUF.GFTRADE";
                var n = "";
                return t = t && t.toLowerCase(),
                "sh" === t ? n = "StuctFundInfoSh" : "sz" === t && (n = "StuctFundInfoSz"),
                j.
            default.promise(function (t, r) {
                    L.
                default.sendRequest(n, e, function (e, n) {
                        e ? r(e) : t(n)
                    })
                })
            },
            StuctFundQryDeal: function (e) {
                return e.fixTopic = "HSUF.GFTRADE",
                j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("StuctFundQryDeal", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            StuctFundQryEntrust: function (e) {
                return e.fixTopic = "HSUF.GFTRADE",
                j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("StuctFundQryEntrust", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QryStkAccountInfos: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("QryStkAccountInfos", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QueryStockCodeT2HQ: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("QueryStockCodeT2HQ", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QryStkPledgeDetails: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("QryStkPledgeDetails", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QryStkPledgeEnable: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("QryStkPledgeEnable", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QueryClientDetails: function () {
                return j.
            default.promise(function (e, t) {
                    L.
                default.sendRequest("QueryClientDetails", {}, function (n, r) {
                        n ? t(n) : e(r)
                    })
                })
            },
            SoptEntrust: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("SoptEntrust", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QuerySoptCode: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("QuerySoptCode", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QuerySoptEntrust: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("QuerySoptEntrust", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QuerySoptRegAsset: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("QuerySoptRegAsset", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QuerySoptPosition: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("QuerySoptPosition", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QuerySoptHisEntrust: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("QuerySoptHisEntrust", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            SoptRevokeEntrust: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("SoptRevokeEntrust", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            IncomeEntrustEnter: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("IncomeEntrustEnter", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            IncomeQryCodeInfoQuote: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("IncomeQryCodeInfoQuote", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            IncomeQryFirmQuote: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("IncomeQryFirmQuote", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            IncomeQryDealQuote: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("IncomeQryDealQuote", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            IncomeQryDealDetail: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("IncomeQryDealDetail", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            IncomeQryEntrust: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("IncomeQryEntrust", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            IncomeQryDeal: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("IncomeQryDeal", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            IncomeEntrustCancel: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("IncomeEntrustCancel", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            IncomeQryHisEntrust: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("IncomeQryHisEntrust", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            IncomeQryBuyEnable: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("IncomeQryBuyEnable", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            IncomeQrySellEnable: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("IncomeQrySellEnable", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            IncomeQryIncomeRight: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("IncomeQryIncomeRight", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            IncomeQryWithdraw: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("IncomeQryWithdraw", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            IncomeQryInterest: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("IncomeQryInterest", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QryStockCodeInfo: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("QryStockCodeInfo", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            NbopCheckPassword: function () {
                return j.
            default.promise(function (e, t) {
                    L.
                default.sendRequest("NbopCheckPassword", {}, function (n, r) {
                        if (n) t(n);
                        else if (r && r.success && 0 === r.return_code) try {
                            var i = JSON.parse(r.data[0].nbopRespone),
                                l = {
                                    nbop_user_token: i.userToken,
                                    nbop_token_valid_date: (0, F.
                                default)("%Y%m%d")
                                };
                            a.emit("nbop.login", l),
                            e(l)
                        } catch (e) {
                            t(e)
                        } else t()
                    })
                })
            },
            NbopClientSignAgm: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return j.
            default.promise(function (t, n) {
                    L.
                default.sendRequest("NbopClientSignAgm", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            NbopOpenEsignatureUserExt: function () {
                var e = z.
            default.getNbopLogin(),
                    t = e ? j.
            default.resolve(e):
                a.NbopCheckPassword();
                return t.then(function (e) {
                        return j.
                    default.promise(function (t, n) {
                            L.
                        default.sendRequest("NbopOpenEsignatureUserExt", e, function (e, r) {
                                e ? n(e) : t(r)
                            })
                        })
                    }, function (e) {
                        return e
                    })
            },
            NbopQueryEsignatureUserExt: function () {
                var e = z.
            default.getNbopLogin(),
                    t = e ? j.
            default.resolve(e):
                a.NbopCheckPassword();
                return t.then(function (e) {
                        return j.
                    default.promise(function (t, n) {
                            L.
                        default.sendRequest("NbopQueryEsignatureUserExt", e, function (e, r) {
                                e ? n(e) : t(r)
                            })
                        })
                    }, function (e) {
                        return e
                    })
            },
            NbopListClientEligTest: function () {
                var e = z.
            default.getNbopLogin(),
                    t = e ? j.
            default.resolve(e):
                a.NbopCheckPassword();
                return t.then(function (e) {
                        return j.
                    default.promise(function (t, n) {
                            L.
                        default.sendRequest("NbopListClientEligTest", e, function (e, r) {
                                e ? n(e) : t(r)
                            })
                        })
                    }, function (e) {
                        return e
                    })
            },
            NbopConfirmClientEligTest: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0],
                    t = z.
            default.getNbopLogin(),
                    n = t ? j.
            default.resolve(t):
                a.NbopCheckPassword();
                return n.then(function (t) {
                        var n = P.
                    default.extend({}, e, t);
                        return j.
                    default.promise(function (e, t) {
                            L.
                        default.sendRequest("NbopConfirmClientEligTest", n, function (n, r) {
                                n ? t(n) : e(r)
                            })
                        })
                    }, function (e) {
                        return e
                    })
            },
            NbopQryUnsignedAgmList: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0],
                    t = z.
            default.getNbopLogin(),
                    n = t ? j.
            default.resolve(t):
                a.NbopCheckPassword();
                return n.then(function (t) {
                        var n = P.
                    default.extend({}, e, t);
                        return j.
                    default.promise(function (e, t) {
                            L.
                        default.sendRequest("NbopQryUnsignedAgmList", n, function (n, r) {
                                n ? t(n) : e(r)
                            })
                        })
                    }, function (e) {
                        return e
                    })
            },
            NbopQryAgmInfo: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0],
                    t = z.
            default.getNbopLogin(),
                    n = t ? j.
            default.resolve(t):
                a.NbopCheckPassword();
                return n.then(function (t) {
                        return j.
                    default.promise(function (n, r) {
                            L.
                        default.sendRequest("NbopQryAgmInfo", P.
                        default.extend({}, e, t), function (e, t) {
                                e ? r(e) : n(t)
                            })
                        })
                    }, function (e) {
                        return e
                    })
            },
            openFundOrderInit: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return new Promise(function (t, n) {
                    L.
                default.sendRequest("OpenFundOrderInit", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            openFundAgreementSign: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return new Promise(function (t, n) {
                    L.
                default.sendRequest("OpenFundAgreementSign", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            openFundRationInit: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return new Promise(function (t, n) {
                    L.
                default.sendRequest("OpenFundRationInit", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            openFundRationAmSign: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return new Promise(function (t, n) {
                    L.
                default.sendRequest("OpenFundRationAmSign", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            QueryStkFundEnAmount: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return e.fixTopic = "HSUF.GFTRADE",
                new Promise(function (t, n) {
                    L.
                default.sendRequest("QueryStkFundEnAmount", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            },
            loginToWeb: function () {
                var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                return e.fixTopic = "HSUF.GFTRADE",
                new Promise(function (t, n) {
                    L.
                default.sendRequest("LoginToWeb", e, function (e, r) {
                        e ? n(e) : t(r)
                    })
                })
            }
        },
    P.
default.extend(a, O.EventEmitter.prototype),
    t.
default = a,
    e.exports = t.
default
},




























































 
function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(530),
        i = {
            IPO_URL: "/ipo/1",
            SKYNET_URL: "https://skynet.gf.com.cn/apm/v1/log.gif",
            GF_AUTH_URL: "",
            STORE_URL: "/qryfund",
            TRADERISK_URL: r.env.HIPPO_TRADERISK_URL || "https://store.gf.com.cn/webservice/risk",
            WS_URL: r.env.HIPPO_WS_URL || "http://ws.gf.com.cn",
            COMBI_URL: r.env.HIPPO_COMBI_URL || "https://gold.gf.com.cn/rest",
            GFT_AUTH_URL: r.env.HIPPO_GFT_AUTH_URL || "https://auth.gf.com.cn",
            MDS_URL: r.env.HIPPO_MDS_URL || "http://mds.gf.com.cn",
            IO_URL: r.env.HIPPO_IO_URL || "",
            WEB_URL: r.env.HIPPO_WEB_URL || "",
            NEWS_URL: r.env.HIPPO_NEWS_URL || "https://info.gf.com.cn/api/1.0.0",
            WEBTRADE_URL: r.env.HIPPO_WEBTRADE_URL || "https://etrade.gf.com.cn/workbench/index_frame.jsp",
            SAFE_URL_PC: "https://cdn.gfzq.cn/gf-trader/safe_plugins/GF-LoginHelper-0.0.3.exe",
            SAFE_URL_MAC: "https://cdn.gfzq.cn/gf-trader/safe_plugins/GF-LoginHelper-0.0.3.pkg"
        };
    t.
default = i,
    e.exports = t.
default
},


function (e, t, n) {
    "use strict";

    function r(e) {
        return e && e.__esModule ? e : {
        default:
            e
        }
    }
    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }
    function l(e, t) {
        var n = new XMLHttpRequest;
        n.onload = function (e) {
            t(e.target.responseText)
        },
        n.onerror = function () {
            t("")
        },
        n.open("GET", e),
        n.send()
    }
    function o(e, t, n) {
        var r = new XMLHttpRequest;
        r.onload = function (e) {
            n(e.target.responseText)
        },
        r.onerror = function () {
            n("")
        },
        r.open("POST", e),
        r.setRequestHeader("Content-Type", "text/plain"),
        r.send(t)
    }
    function u(e) {
        for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];
        var i = 0,
            l = [];
        n.forEach(function (t, r) {
                t(function (t) {
                    l[r] = t,
                    i++,
                    e && i == n.length && (e.apply(null, l), e = null)
                })
            })
    }
    function a(e) {
        return e
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var s, c, f, h, p, d, g, y = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1,
                r.configurable = !0,
                "value" in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r)
            }
        }
        return function (t, n, r) {
            return n && e(t.prototype, n),
            r && e(t, r),
            t
        }
    }(),
        v = n(530),
        m = n(711),
        b = r(m),
        _ = v.env.HIPPO_NO_PASS;
    if (!
        function () {
            var e = "https://localhost.gf.com.cn:37022";
            s = function (t, n) {
                o(e + "/getenc", a(t), n)
            },
            g = function (t, n) {
                o(e + "/getsign", a(t), n)
            },
            c = function (t) {
                l(e + "/getmac", function (e) {
                    s(e.trim(), t)
                })
            },
            h = function (t) {
                l(e + "/getmac", function (e) {
                    t(e.trim())
                })
            },
            f = function (t) {
                l(e + "/getserial", function (e) {
                    s(e.trim(), t)
                })
            },
            p = function (t) {
                l(e + "/getserial", function (e) {
                    t(e.trim(), t)
                })
            },
            d = function (t) {
                l(e + "/version", function (e) {
                    t(e.trim(), t)
                })
            }
        }(), _) var w = function (e) {
            return e("123")
        },
        S = {
            mac: w,
            hdd: w,
            macAddr: w,
            hddSerial: w,
            version: w,
            sign: w
        };
    else S = {
            mac: c,
            hdd: f,
            macAddr: h,
            hddSerial: p,
            version: d,
            sign: g
        };
    var x = function () {
            function e(t) {
                i(this, e),
                this.$ipt = t
            }
            return y(e, [{
                key: "isEmpty",
                value: function () {
                    return !this.$ipt.value
                }
            },
            {
                key: "clear",
                value: function () {
                    this.$ipt.value = ""
                }
            },
            {
                key: "verify",
                value: function (e, t) {
                    var n = this.$ipt.value + String.fromCharCode(e);
                    for (var r in t) if (t.hasOwnProperty(r)) switch (r) {
                    case "maxLength":
                        if (0 == window.getSelection().toString().length && n.length > t.maxLength.val) return t.maxLength;
                        break;
                    case "regExp":
                        if (!t.regExp.val.test(n)) return t.regExp
                    }
                    return {}
                }
            },
            {
                key: "getValue",
                value: function (e) {
                    alert(_);
                    if (_) {
                        var t = "*A4*86*AD*EE*82*7C*CC*CE*B38*EE*5F*B3*97*E0*AAG*97*883*91G*16bw*22*A05*A8*CCL8G*97*883*91G*16bw*22*A05*A8*CCL8G*97*883*91G*16bw*22*A05*A8*CCL8*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00";
                        e(t)
                    } else s(this.$ipt.value, e)
                }
            },
            {
                key: "getAll",
                value: function (e, t) {
                    var n = this,
                        r = [t].concat(e.map(function (e) {
                            return "password" == e ? n.getValue.bind(n) : S[e]
                        }));
                    u.apply(null, r)
                }
            }]),
            e
        }();
    t.
default = {
            init: function (e) {
                return new x(e)
            },
            getAll: function (e, t) {
                var n = [t].concat(e.map(function (e) {
                    return S[e]
                }));
                u.apply(null, n)
            },
            getMac: function (e) {
                c(e)
            },
            getSerial: function (e) {
                f(e)
            },
            getMacAddr: function (e) {
                h(function (t) {
                    e((t || "").split(",")[0])
                })
            },
            getVersion: function (e) {
                d(e)
            },
            getSign: function (e, t) {
                g(e, function (e) {
                    t(b.
                default.d(e))
                })
            }
        },
    e.exports = t.
default
},











































function (e, t) {
    "use strict";

    function n(e, t) {
        for (; e && e != document;) {
            if ("a" === e.nodeName.toLowerCase() || a(e, t)) return e;
            e = e.parentNode
        }
    }
    function r() {
        setTimeout(function () {
            y && (u(y, O), y = null)
        }, 50),
        v && (clearTimeout(v), v = null)
    }
    function i(e, t) {
        if (e) {
            var n = new CustomEvent(t, {
                bubbles: !0,
                cancelable: !0,
                detail: {
                    holyshit: !0
                }
            });
            return e.dispatchEvent(n),
            n
        }
    }
    function l(e) {
        var t, n, r;
        for (t = 0; t < I.length; t += 2) n = I[t],
        r = I[t + 1],
        Math.abs(e.clientX - n) < 25 && Math.abs(e.clientY - r) < 25 && (e.stopPropagation(), e.preventDefault())
    }
    function o(e, t) {
        if (e.classList) e.classList.add(t);
        else {
            var n = e.className.split(/\s+/);
            n.indexOf(t) == -1 && (e.className = e.className + " " + t)
        }
    }
    function u(e, t) {
        if (e.classList) e.classList.remove(t);
        else {
            for (var n = e.className.split(/\s+/), r = [], i = 0, l = n.length; i < l; i++) n[i] != t && r.push(n[i]);
            0 != r.length && (e.className = r.join(" "))
        }
    }
    function a(e, t) {
        if (e.classList) return e.classList.contains(t);
        var n = e.className.split(/\s+/);
        return n.indexOf(t) != -1
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var s, c, f, h, p, d, g, y, v, m = 800,
        b = 300,
        _ = 400,
        w = "mousedown",
        S = "mousemove",
        x = "mouseup",
        k = 0,
        E = 0,
        O = "active",
        T = "activeWatcher",
        P = {
            handleEvent: function (e) {
                if (e.touches || 1 == e.which) switch (e.type) {
                case "touchstart":
                case "mousedown":
                    this.onStart(e),
                    document.addEventListener(S, this),
                    document.addEventListener(x, this);
                    break;
                case "touchmove":
                case "mousemove":
                    this.onMove(e);
                    break;
                case "touchend":
                case "touchcancel":
                case "mouseup":
                    document.removeEventListener(S, this),
                    document.removeEventListener(x, this),
                    this.onEnd(e)
                }
            },
            onStart: function (e) {
                if (c = e.target, s) {
                    k = e.timeStamp,
                    f = p,
                    h = d;
                    var t = e.touches ? e.touches[0] : e;
                    p = t.clientX,
                    d = t.clientY
                }
                if (g) {
                    var r = n(c, T);
                    if (r) {
                        var i = function () {
                            y = r,
                            o(y, O)
                        };
                        v = setTimeout(i, 50)
                    }
                }
            },
            onMove: function () {
                g && r()
            },
            onEnd: function (e) {
                if (s) {
                    var t = e.timeStamp,
                        n = e.changedTouches ? e.changedTouches[0] : e,
                        l = n.clientX,
                        o = n.clientY;
                    if (t - k < m && Math.pow(p - l, 2) + Math.pow(d - o, 2) < b) { //p=? l=372  d=? o=556  b?
                            c = e.target;
                            var u, a = i(c, "tap");  //i 在17624行
                            t - E < _ && Math.pow(f - l, 2) + Math.pow(h - o, 2) < b ? (u = i(c, "dbltap"), clearTimeout(this.timer)) : this.timer = setTimeout(function () {
                                i(e.target, "sgltap")//
                            }, _),
                            (a.defaultPrevented || u && u.defaultPrevented) && (I.push(l, o), setTimeout(function () {
                                I.splice(0, 2)
                            }, 1e3), e.preventDefault()),
                            E = t,
                            c = null
                        }
                }
                g && r()
            }
        },
        I = [],
        L = {
            EVT_START: w,
            EVT_MOVE: S,
            EVT_END: x
        };
    t.events = L,
    t.
default = {
            enableTouchEvent: function () {
                s = !0,
                document.addEventListener(w, P),
                document.addEventListener("click", l, !0)
            },
            enableActiveState: function (e, t) {
                g = !0,
                e && (T = e, O = t)
            }
        }
},




































function (e, t, n) {
    "use strict";

    function r(e) {
        return e && e.__esModule ? e : {
        default:
            e
        }
    }
    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }
    function l(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }),
        t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1,
                r.configurable = !0,
                "value" in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r)
            }
        }
        return function (t, n, r) {
            return n && e(t.prototype, n),
            r && e(t, r),
            t
        }
    }(),
        u = function (e, t, n) {
            for (var r = !0; r;) {
                var i = e,
                    l = t,
                    o = n;
                r = !1,
                null === i && (i = Function.prototype);
                var u = Object.getOwnPropertyDescriptor(i, l);
                if (void 0 !== u) {
                        if ("value" in u) return u.value;
                        var a = u.get;
                        if (void 0 === a) return;
                        return a.call(o)
                    }
                var s = Object.getPrototypeOf(i);
                if (null === s) return;
                e = s,
                t = l,
                n = o,
                r = !0,
                u = s = void 0
            }
        },
        a = n(540),
        s = n(716),
        c = r(s),
        f = n(528),
        h = r(f),
        p = n(634),
        d = r(p),
        g = c.
default.getLogger(),
        y = function (e) {
            function t(e) {
                if (i(this, t), u(Object.getPrototypeOf(t.prototype), "constructor", this).call(this), !(e instanceof Array)) throw new Error("GFWebsocket...");
                this._onClose = h.
            default.bind(this.onClose, this),
                this._onMessage = h.
            default.bind(this.onMessage, this),
                this.url_arr = e,
                this.websocket = null,
                this.heartbeat_msg = '{"topic":"sys.hb", "data":{"method":"ping"}}',
                this.heartbeat_interval = null,
                this.missed_heartbeats = 0,
                this.reconnect_interval = null,
                this.socket_arr = [],
                this.connect_times = 0,
                this.setConnted(-1),
                this.setMaxListeners(100)
            }
            return l(t, e),
            o(t, [{
                key: "setConnted",
                value: function (e) {
                    if (this.got_it_index != e) {
                        if (e < 0) {
                            var t = d.
                        default.defer();
                            this._connected = t,
                            this.connected = t.promise
                        } else this._connected.resolve(e);
                        this.got_it_index = e
                    }
                }
            },
            {
                key: "getState",
                value: function () {
                    return {
                        list: this.url_arr,
                        connecting: this.connecting,
                        connected: this.got_it_index,
                        connect_times: this.connect_times
                    }
                }
            },
            {
                key: "send",
                value: function (e, t) {
                    var n = this.got_it_index;
                    n > -1 ? (this.socket_arr[n].send(e), t && t()) : this.connect()
                }
            },
            {
                key: "_makeOpenCb",
                value: function (e) {
                    var t = this;
                    return function () {
                        t.connecting = !1;
                        var n = !1;
                        t.got_it_index < 0 && !
                        function () {
                            n = !0,
                            t.setConnted(e);
                            var r = e;
                            t.emit("connected", t.url_arr[r].NAME),
                            t.connect_times++,
                            t.connect_times > 1 && t.emit("reconnected"),
                            t.heartbeat_interval || (t.missed_heartbeats = 0, t.heartbeat_interval = setInterval(function () {
                                try {
                                    if (t.missed_heartbeats++, t.missed_heartbeats >= 2) throw new Error("Too many missed heartbeats");
                                    t.socket_arr[r].send(t.heartbeat_msg),
                                    g.debug("send heartbeat >>> " + t.heartbeat_msg)
                                } catch (e) {
                                    clearInterval(t.heartbeat_interval),
                                    t.heartbeat_interval = null,
                                    g.debug("Closing connection. Reason:" + e.message),
                                    t._onClose()
                                }
                            }, 3e3)),
                            t.socket_arr[r].onmessage = t._onMessage,
                            t.socket_arr[r].onclose = t.socket_arr[r].onerror = t._onClose,
                            clearTimeout(t.connectionTimer)
                        }();
                        var r = Date.now() - t.start_time;
                        t.url_arr[e].time = r,
                        n && (t.url_arr = t.url_arr.map(function (e) {
                            return !e.time && (e.time = -1),
                            e
                        })),
                        t.emit("update"),
                        g.debug("The " + t.url_arr[e].NAME + " server connected need " + r + "ms")
                    }
                }
            },
            {
                key: "onClose",
                value: function () {
                    this.setConnted(-1),
                    this.emit("error"),
                    this.emit("update"),
                    this.connect()
                }
            },
            {
                key: "onMessage",
                value: function (e) {
                    var t = e.data;
                    if ("string" == typeof t) try {
                        var n = JSON.parse(t);
                        n && "sys.hb" === n.topic && n.data && "pong" === n.data.method ? (this.missed_heartbeats = 0, g.debug("on data <<< " + t)) : this.emit("message", e)
                    } catch (e) {
                        console.error(e)
                    } else this.emit("message", e)
                }
            },
            {
                key: "connect",
                value: function () {
                    this.connecting || this._connect()
                }
            },
            {
                key: "manuallyConnect",
                value: function (e, t) {
                    this._connect(e, t)
                }
            },
            {
                key: "reset",
                value: function () {
                    this.socket_arr.forEach(function (e) {
                        e && (e.onopen = e.onclose = e.onerror = e.onmessage = null, e.close())
                    }),
                    this.heartbeat_interval && (clearInterval(this.heartbeat_interval), this.heartbeat_interval = null, this.missed_heartbeats = 0),
                    this.got_it_index = -1,
                    clearTimeout(this.connectionTimer)
                }
            },
            {
                key: "_connect",
                value: function (e, t) {
                    var n = this;
                    this.reset(),
                    this.connecting = !0,
                    this.start_time = new Date,
                    this.cb_arr = [],
                    this.socket_arr = [],
                    this.emit("update");
                    var r = function (e, t) {
                        !e.time && (e.time = void 0);
                        var r = e.HOST + ":" + e.PORT;
                        g.debug("The " + e.NAME + " server start to connect...");
                        var i = new WebSocket(r, ["msg-hippo"]);
                        i.binaryType = "arraybuffer";
                        var l = n._makeOpenCb(t);
                        n.cb_arr[t] = l,
                        n.socket_arr[t] = i,
                        i.onopen = l
                    },
                        i = function () {
                            n.connecting = !1;
                            for (var e = n.url_arr.length, t = 0; t < e; t++) {
                                var r = n.url_arr[t];
                                !r.time && (r.time = -1),
                                t !== n.got_it_index && n.socket_arr[t] && (n.socket_arr[t].close(), n.socket_arr[t].removeEventListener("open", n.cb_arr[t]))
                            }
                            n.got_it_index < 0 ? (n.connect(), n.emit("error")) : (g.debug("Connect Test Result:" + JSON.stringify(n.url_arr)), n.emit("test.result", n.url_arr)),
                            n.emit("update")
                        };
                    e ? r(e, t) : this.url_arr.forEach(r),
                    this.connectionTimer = setTimeout(i, 3e3)
                }
            },
            {
                key: "reconnect",
                value: function () {
                    0 > this.got_it_index || (this.reset(), this.connect())
                }
            }]),
            t
        }(a.EventEmitter);
    t.
default = y,
    e.exports = t.
default
},

























































function l(e, t) {
        var n = new XMLHttpRequest;
        n.onload = function (e) {
            t(e.target.responseText)
        },
        n.onerror = function () {
            t("")
        },
        n.open("GET", e),
        n.send()
    }
    function o(e, t, n) {
        var r = new XMLHttpRequest;
        r.onload = function (e) {
            n(e.target.responseText)
        },
        r.onerror = function () {
            n("")
        },
        r.open("POST", e),
        r.setRequestHeader("Content-Type", "text/plain"),
        r.send(t)
    }














   (window).on("message",
    function(t, e) {
        e = e || t.originalEvent.data;
        var n;
        try {
            n = JSON.parse(e.replace(/&quot;/g, '"'))
        } catch(t) {}
        if (n && "session" == n.type) {
            var l = n.data,
            r = S.getLogin();
            if (1 == n.status ? S.loginChanged(0, l) : S.loginChanged(1, l), !o.
        default.isEqual(r, l)) {
                M.emitChange()
            }
        }
    }),
    y.
default.on("trade.logout",
    function() {
        S.logoutTrade(),
        this.loginOut(),
        S.unlockTrade(),
        M.emit("tradeLoginChange"),
        M.emit("creditLoginChange")
    }),
    y.
default.on("trade.login",
    function(t) {
        S.tradeLoginChanged(t),
        M.initExtra(),
        S.isTradeLocked() ? (S.unlockTrade(), M.emit("tradeUnlock", t)) : M.emit("tradeLoginChange", t);
        var e = parseInt(x.
    default.getPref("stocktrade").timeout);
        y.
    default.session_timeout(e)
    }),
    y.
default.on("credit.login",
    function(t, e) {
        S.creditLoginChanged(t, e),
        S.isTradeLocked() ? (S.unlockTrade(), M.emit("tradeUnlock", e)) : M.emit("creditLoginChange", e, t)
    }),
    y.
default.on("trade.session.expired",
    function() {
        S.tradeLoginChanged(),
        S.creditLoginChanged(null),
        S.unlockTrade(),
        M.emit("tradeLoginChange"),
        M.emit("creditLoginChange")
    }),
    y.
default.on("nbop.login",
    function(t) {
        S.nbopLoginChanged(t),
        M.emit("nbopLoginChange")
    });






     default.createElement(L, {
                ref: "password"
            }),
            n = "点击安装新版安全控件",
            l = "您的系统不支持安全登录",
            r = "https://cdn.gfzq.cn/gf-trader/safe_plugins/GF-LoginHelper-0.0.3.exe",
            i = "https://cdn.gfzq.cn/gf-trader/safe_plugins/GF-LoginHelper-0.0.3.pkg",
            u = "javascript:;",
            a = window.navigator.userAgent,
            s = this.state.passwordVersion;
            this._remember_account = !0,
            "browser" !== p.platform && "embed" !== p.platform || s && o(s, "0.0.2") || (/win/gi.test(a) ? u = r: /mac/gi.test(a) ? u = i: n = l, e = c.
        default.createElement("a", {
                href: u,
                className: "installSecTips",
                title: "安装后请刷新页面！",
                target: "_blank"
            },
            n));
            var f = this.props.mode === m.
        default.LoginMode.CREDIT,
            h = this.state.showCaptcha,
            d = [],
            v = ["selectdownIcon"];
            return this.state.isShowSelect ? v[1] = " selectUpIcon": v[1] = "",
            this.state.isShowSelectIcon ? v[2] = " hide": v[2] = "",
            f ? (d.push(c.
        default.createElement("div", {
                className: "row",
                key: "userId"
            },
            c.
        default.createElement("span", {
                className: "useridIcon"
            }), c.
        default.createElement("input", {
                type: "text",
                disabled: !0,
                value: this._userId,
                ref: "userId"
            }))), d.push(c.
        default.createElement("div", {
                className: "row",
                key: "password"
            },
            c.
        default.createElement("span", {
                className: "passwordIcon"
            }), e))) : (d.push(c.
        default.createElement("div", {
                className: "row",
                key: "userId"
            },
            c.
        default.createElement("span", {
                className: "useridIcon"
            }), c.
        default.createElement("input", {
                type: "text",
                style: {
                    display: "none"
                }
            }), c.
        default.createElement("input", {
                autocomplete: "off",
                className: "useridInput",
                type: this._protect_account ? "password": "text",
                ref: "userId",
                placeholder: "客户编号",
                name: "user_id",
                value: this.maskUserId(this.state.userId),
                onChange: this.changeUserId
            }))), d.push(c.
        default.createElement("div", {
                className: "row",
                key: "password"
            },
            c.
        default.createElement("span", {
                className: "passwordIcon"
            }), c.
        default.createElement("input", {
                type: "password",
                name: "password",
                style: {
                    display: "none"
                }
            }), e)), h && d.push(c.
        default.createElement("div", {
                className: "row",
                key: "captcha"
            },
            c.
        default.createElement("span", {
                className: "pinIcon"
            }), c.
        default.createElement("input", {
                className: "pin",
                type: "text",
                required: !0,
                placeholder: "验证码",
                name: "captcha",
                ref: "captchaCode",
                onChange: this.verifyCaptcha
            }), c.
        default.createElement("img", {
                src: this.state.captcha,
                onClick: this.refreshCode,
                className: "pinnum"
            }))), d.push(c.
        default.createElement("div", {
                className: "row",
                key: "ctrls"
            },
            c.
        default.createElement("label", null, c.
        default.createElement("input", {
                onChange: this.rememberAccount,
                className: "rememberpwdcheckbox",
                type: "checkbox",
                defaultChecked: this._remember_account
            }), c.
        default.createElement("span", {
                className: "rememberpwdspan"
            },
            "记住账号")), c.
        default.createElement("a", {
                className: "openAccount",
                href: "https://store.gf.com.cn/portal/ldy/ldyaccount?channel=etj00003",
                target: "_blank"
            },
            "立即开户")))),
            c.
        default.createElement("div", {
                className: "LoginForm",
                onClick: this.handleCancleSelect
            },
            c.
        default.createElement("form", {
                method: "POST",
                onSubmit: f ? this.creditLogin: this.login
            },
            t, d, c.
        default.createElement("div", {
                className: "row"
            },
            c.
        default.createElement("button", {
                className: "button submit",
                type: "submit"
            },
            "登录"), c.
        default.createElement("button", {
                className: "hide",
                type: "button"
            },
            c.






























        //72319
        login: function(t) {  
            var e = this;
            t.preventDefault(); //阻止对表单的提交
            var n = this.state.userId;
            alert(n);
            if (!n) return void this.showError("用户名为空");
            var l = _.env.HIPPO_NO_PASS;
            return l || !this.state.showCaptcha || this._captchaVerified ? void this.refs.password.getAll(["password", "mac", "hdd"],
            function(t, l, r) {
                i(n, t, {
                    mac: l,
                    hdd: r
                },
                e.onLogin)
            }) : void this.showError("验证码输入错误")
        },
        creditLogin: function(t) {
            var e = this;
            t && t.preventDefault();
            var n = this._userId ? this._userId: this.state.userId;
            this.refs.password.getAll(["password"],
            function(t) {
                w.
            default.creditLogin(n, t,
                function(t) {
                    var n = e.props.loginCbk;
                    t && e.props.mode > m.
                default.LoginMode.NORMAL ? e.props.mode == m.
                default.LoginMode.NORMAL_AND_CREDIT ? j.open(m.
                default.LoginMode.CREDIT, t.error_msg, n) : e.showError(t.error_msg) : "function" == typeof n && n(e.props.mode)
                })
            })
        },





    //808~884
function(t, e, n) {
    "use strict";
    function l(t) {
        return t === m.topMouseUp || t === m.topTouchEnd || t === m.topTouchCancel
    }
    function r(t) {
        return t === m.topMouseMove || t === m.topTouchMove
    }
    function i(t) {
        return t === m.topMouseDown || t === m.topTouchStart
    }
    function o(t, e) {
        var n = t._dispatchListeners,
        l = t._dispatchIDs;
        if (Array.isArray(n)) for (var r = 0; r < n.length && !t.isPropagationStopped(); r++) e(t, n[r], l[r]);
        else n && e(t, n, l)
    }
    function u(t, e, n) {
        t.currentTarget = v.Mount.getNode(n);
        var l = e(t, n);
        return t.currentTarget = null,
        l
    }
    function a(t, e) {
        o(t, e),
        t._dispatchListeners = null,
        t._dispatchIDs = null
    }
    function s(t) {
        var e = t._dispatchListeners,
        n = t._dispatchIDs;
        if (Array.isArray(e)) {
            for (var l = 0; l < e.length && !t.isPropagationStopped(); l++) if (e[l](t, n[l])) return n[l]
        } else if (e && e(t, n)) return n;
        return null
    }
    function c(t) {
        var e = s(t);
        return t._dispatchIDs = null,
        t._dispatchListeners = null,
        e
    }
    function f(t) {
        var e = t._dispatchListeners,
        n = t._dispatchIDs;
        p(!Array.isArray(e));
        var l = e ? e(t, n) : null;
        return t._dispatchListeners = null,
        t._dispatchIDs = null,
        l
    }
    function h(t) {
        return !! t._dispatchListeners
    }
    var d = n(13),
    p = n(15),
    v = {
        Mount: null,
        injectMount: function(t) {
            v.Mount = t
        }
    },
    m = d.topLevelTypes,
    g = {
        isEndish: l,
        isMoveish: r,
        isStartish: i,
        executeDirectDispatch: f,
        executeDispatch: u,
        executeDispatchesInOrder: a,
        executeDispatchesInOrderStopAtTrue: c,
        hasDispatches: h,
        injection: v,
        useTouchEvents: !1
    };
    t.exports = g
},
 











    //7054~7128  跳回到 831
    for (var w in b) b[w].dependencies = [w];
    var x = {
        eventTypes: _,
        executeDispatch: function(t, e, n) {
            var l = r.executeDispatch(t, e, n);
            l === !1 && (t.stopPropagation(), t.preventDefault())
        },
        extractEvents: function(t, e, n, l) {
            var r = b[t];
            if (!r) return null;
            var g;
            switch (t) {
            case y.topInput:
            case y.topLoad:
            case y.topError:
            case y.topReset:
            case y.topSubmit:
                g = u;
                break;
            case y.topKeyPress:
                if (0 === v(l)) return null;
            case y.topKeyDown:
            case y.topKeyUp:
                g = s;
                break;
            case y.topBlur:
            case y.topFocus:
                g = a;
                break;
            case y.topClick:
                if (2 === l.button) return null;
            case y.topContextMenu:
            case y.topDoubleClick:
            case y.topMouseDown:
            case y.topMouseMove:
            case y.topMouseOut:
            case y.topMouseOver:
            case y.topMouseUp:
                g = c;
                break;
            case y.topDrag:
            case y.topDragEnd:
            case y.topDragEnter:
            case y.topDragExit:
            case y.topDragLeave:
            case y.topDragOver:
            case y.topDragStart:
            case y.topDrop:
                g = f;
                break;
            case y.topTouchCancel:
            case y.topTouchEnd:
            case y.topTouchMove:
            case y.topTouchStart:
                g = h;
                break;
            case y.topScroll:
                g = d;
                break;
            case y.topWheel:
                g = p;
                break;
            case y.topCopy:
            case y.topCut:
            case y.topPaste:
                g = o
            }
            m(g);
            var _ = g.getPooled(r, n, l);
            return i.accumulateTwoPhaseDispatches(_),
            _
        }
    };
    t.exports = x
},












//3450~3528

function(t, e, n) {
    "use strict";
    var l = n(78),
    r = n(12),
    i = n(79),
    o = n(80),
    u = n(15),
    a = {},
    s = null,
    c = function(t) {
        if (t) {
            var e = r.executeDispatch,
            n = l.getPluginModuleForEvent(t);
            n && n.executeDispatch && (e = n.executeDispatch),
            r.executeDispatchesInOrder(t, e),
            t.isPersistent() || t.constructor.release(t)
        }
    },
    f = null,
    h = {
        injection: {
            injectMount: r.injection.injectMount,
            injectInstanceHandle: function(t) {
                f = t
            },
            getInstanceHandle: function() {
                return f
            },
            injectEventPluginOrder: l.injectEventPluginOrder,
            injectEventPluginsByName: l.injectEventPluginsByName
        },
        eventNameDispatchConfigs: l.eventNameDispatchConfigs,
        registrationNameModules: l.registrationNameModules,
        putListener: function(t, e, n) {
            u(!n || "function" == typeof n);
            var l = a[e] || (a[e] = {});
            l[t] = n
        },
        getListener: function(t, e) {
            var n = a[e];
            return n && n[t]
        },
        deleteListener: function(t, e) {
            var n = a[e];
            n && delete n[t]
        },
        deleteAllListeners: function(t) {
            for (var e in a) delete a[e][t]
        },
        extractEvents: function(t, e, n, r) {
            for (var o, u = l.plugins,
            a = 0,
            s = u.length; a < s; a++) {
                var c = u[a];
                if (c) {
                    var f = c.extractEvents(t, e, n, r);
                    f && (o = i(o, f))
                }
            }
            return o
        },
        enqueueEvents: function(t) {
            t && (s = i(s, t))
        },
        processEventQueue: function() {  //3514  回调到3621
            var t = s;
            s = null,
            o(t, c),
            u(!s)   
        },
        __purge: function() {
            a = {}
        },
        __getListenerBank: function() {
            return a
        }
    };
    t.exports = h
},







//3614  回调到3514

function(t, e) {
    "use strict";
    var n = function(t, e, n) {
        Array.isArray(t) ? t.forEach(e, n) : t && e.call(n, t)
    };
    t.exports = n
},
function(t, e, n) { //3621
    "use strict";
    function l(t) {
        r.enqueueEvents(t),
        r.processEventQueue()
    }
    var r = n(77),
    i = {
        handleTopLevel: function(t, e, n, i) {
            var o = r.extractEvents(t, e, n, i);
            l(o)
        }
    };
    t.exports = i
},
function(t, e) {
    "use strict";
    var n = {
        currentScrollLeft: 0,
        currentScrollTop: 0,
        refreshScrollValues: function(t) {
            n.currentScrollLeft = t.x,
            n.currentScrollTop = t.y
        }
    };
    t.exports = n
},















//6102~6184
function(t, e, n) {
    "use strict";
    function l(t) {
        var e = f.getID(t),
        n = c.getReactRootIDFromNodeID(e),
        l = f.findReactContainerForID(n),
        r = f.getFirstReactDOM(l);
        return r
    }
    function r(t, e) {
        this.topLevelType = t,
        this.nativeEvent = e,
        this.ancestors = []
    }
    function i(t) { //6116
        for (var e = f.getFirstReactDOM(p(t.nativeEvent)) || window, n = e; n;) t.ancestors.push(n),
        n = l(n);
        for (var r = 0,
        i = t.ancestors.length; r < i; r++) {
            e = t.ancestors[r];
            var o = f.getID(e) || "";
            m._handleTopLevel(t.topLevelType, e, o, t.nativeEvent)
        }
    }
    function o(t) {
        var e = v(window);
        t(e)
    }
    var u = n(135),
    a = n(59),
    s = n(17),
    c = n(27),
    f = n(75),
    h = n(34),
    d = n(21),
    p = n(106),
    v = n(136);
    d(r.prototype, {
        destructor: function() {
            this.topLevelType = null,
            this.nativeEvent = null,
            this.ancestors.length = 0
        }
    }),
    s.addPoolingTo(r, s.twoArgumentPooler);
    var m = {
        _enabled: !0,
        _handleTopLevel: null,
        WINDOW_HANDLE: a.canUseDOM ? window: null,
        setHandleTopLevel: function(t) {
            m._handleTopLevel = t
        },
        setEnabled: function(t) {
            m._enabled = !!t
        },
        isEnabled: function() {
            return m._enabled
        },
        trapBubbledEvent: function(t, e, n) {
            var l = n;
            return l ? u.listen(l, e, m.dispatchEvent.bind(null, t)) : null
        },
        trapCapturedEvent: function(t, e, n) {
            var l = n;
            return l ? u.capture(l, e, m.dispatchEvent.bind(null, t)) : null
        },
        monitorScrollValue: function(t) {
            var e = o.bind(null, t);
            u.listen(window, "scroll", e)
        },
        dispatchEvent: function(t, e) {
            if (m._enabled) {
                var n = r.getPooled(t, e);
                try {
                    h.batchedUpdates(i, n)
                } finally {
                    r.release(n)
                }
            }
        }
    };
    t.exports = m
},










//1990~2062
function(t, e, n) {
    "use strict";
    var l = n(15),
    r = {
        reinitializeTransaction: function() {
            this.transactionWrappers = this.getTransactionWrappers(),
            this.wrapperInitData ? this.wrapperInitData.length = 0 : this.wrapperInitData = [],
            this._isInTransaction = !1
        },
        _isInTransaction: !1,
        getTransactionWrappers: null,
        isInTransaction: function() {
            return !! this._isInTransaction
        },
        perform: function(t, e, n, r, i, o, u, a) { //2004
            l(!this.isInTransaction());
            var s, c;
            try {
                this._isInTransaction = !0,
                s = !0,
                this.initializeAll(0),
                c = t.call(e, n, r, i, o, u, a),
                s = !1
            } finally {
                try {
                    if (s) try {
                        this.closeAll(0)
                    } catch(t) {} else this.closeAll(0)
                } finally {
                    this._isInTransaction = !1
                }
            }
            return c
        },
        initializeAll: function(t) {
            for (var e = this.transactionWrappers,
            n = t; n < e.length; n++) {
                var l = e[n];
                try {
                    this.wrapperInitData[n] = i.OBSERVED_ERROR,
                    this.wrapperInitData[n] = l.initialize ? l.initialize.call(this) : null;
                } finally {
                    if (this.wrapperInitData[n] === i.OBSERVED_ERROR) try {
                        this.initializeAll(n + 1)
                    } catch(t) {}
                }
            }
        },
        closeAll: function(t) {
            l(this.isInTransaction());
            for (var e = this.transactionWrappers,
            n = t; n < e.length; n++) {
                var r, o = e[n],
                u = this.wrapperInitData[n];
                try {
                    r = !0,
                    u !== i.OBSERVED_ERROR && o.close && o.close.call(this, u),
                    r = !1
                } finally {
                    if (r) try {
                        this.closeAll(n + 1)
                    } catch(t) {}
                }
            }
            this.wrapperInitData.length = 0
        }
    },
    i = {
        Mixin: r,
        OBSERVED_ERROR: {}
    };
    t.exports = i
},












//5463~5498
function(t, e, n) {
    "use strict";
    function l() {
        this.reinitializeTransaction()
    }
    var r = n(34),
    i = n(44),
    o = n(21),
    u = n(24),
    a = {
        initialize: u,
        close: function() {
            h.isBatchingUpdates = !1
        }
    },
    s = {
        initialize: u,
        close: r.flushBatchedUpdates.bind(r)
    },
    c = [s, a];
    o(l.prototype, i.Mixin, {
        getTransactionWrappers: function() {
            return c
        }
    });
    var f = new l,
    h = {   //5489 回调6179
        isBatchingUpdates: !1,
        batchedUpdates: function(t, e, n, l, r) {
            var i = h.isBatchingUpdates;
            h.isBatchingUpdates = !0,
            i ? t(e, n, l, r) : f.perform(t, null, e, n, l, r)
        }
    };
    t.exports = h
},

















//58884~59082

function(t, e, n) {
    "use strict";
    function l(t, e) {
        if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }
    function r(t, e) {
        var n = new XMLHttpRequest;
        n.onload = function(t) {
            e(t.target.responseText)
        },
        n.onerror = function() {
            e("")
        },
        n.open("GET", t),
        n.send()
    }
    function i(t, e, n) {//58900
        var l = new XMLHttpRequest;
        l.onload = function(t) {
            n(t.target.responseText)
        },
        l.onerror = function() {
            n("")
        },
        l.open("POST", t),
        l.setRequestHeader("Content-Type", "text/plain"),
        l.send(e)
    }
    function o(t) {
        for (var e = arguments.length,
        n = Array(e > 1 ? e - 1 : 0), l = 1; l < e; l++) n[l - 1] = arguments[l];
        var r = 0,
        i = [];
        n.forEach(function(e, l) {
            e(function(e) {
                i[l] = e,
                r++,
                t && r == n.length && (t.apply(null, i), t = null)
            })
        })
    }
    function u(t) {
        return t
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a, s, c, f, h, d, p = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var l = e[n];
                l.enumerable = l.enumerable || !1,
                l.configurable = !0,
                "value" in l && (l.writable = !0),
                Object.defineProperty(t, l.key, l)
            }
        }
        return function(e, n, l) {
            return n && t(e.prototype, n),
            l && t(e, l),
            e
        }
    } (),
    v = n(531),
    m = v.env.HIPPO_NO_PASS;
    if (!
    function() {
        var t = "https://localhost.gf.com.cn:37022";
        a = function(e, n) {
            i(t + "/getenc", u(e), n)
        },
        s = function(e) {
            r(t + "/getmac",
            function(t) {
                a(t.trim(), e)
            })
        },
        f = function(e) {
            r(t + "/getmac",
            function(t) {
                e(t.trim())
            })
        },
        c = function(e) {
            r(t + "/getserial",
            function(t) {
                a(t.trim(), e)
            })
        },
        h = function(e) {
            r(t + "/getserial",
            function(t) {
                e(t.trim(), e)
            })
        },
        d = function(e) {
            r(t + "/version",
            function(t) {
                e(t.trim(), e)
            })
        }
    } (), m) var g = function(t) {
        return t("123")
    },
    y = {
        mac: g,
        hdd: g,
        macAddr: g,
        hddSerial: g,
        version: g
    };
    else var y = {
        mac: s,
        hdd: c,
        macAddr: f,
        hddSerial: h,
        version: d
    };
    var _ = function() {
        function t(e) {
            l(this, t),
            this.$ipt = e
        }
        return p(t, [{
            key: "isEmpty",
            value: function() {
                return ! this.$ipt.value
            }
        },
        {
            key: "clear",
            value: function() {
                this.$ipt.value = ""
            }
        },
        {
            key: "verify",
            value: function(t, e) {
                var n = this.$ipt.value + String.fromCharCode(t);
                for (var l in e) if (e.hasOwnProperty(l)) switch (l) {
                case "maxLength":
                    if (0 == window.getSelection().toString().length && n.length > e.maxLength.val) return e.maxLength;
                    break;
                case "regExp":
                    if (!e.regExp.val.test(n)) return e.regExp
                }
                return {}
            }
        },
        {
            key: "getValue",
            value: function(t) {
                if (m) {
                    var e = "*A4*86*AD*EE*82*7C*CC*CE*B38*EE*5F*B3*97*E0*AAG*97*883*91G*16bw*22*A05*A8*CCL8G*97*883*91G*16bw*22*A05*A8*CCL8G*97*883*91G*16bw*22*A05*A8*CCL8*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00*00";
                    t(e)
                } else a(this.$ipt.value, t)
            }
        },
        {
            key: "getAll",
            value: function(t, e) {
                var n = this,
                l = [e].concat(t.map(function(t) {
                    return "password" == t ? n.getValue.bind(n) : y[t]
                }));
                o.apply(null, l)
            }
        }]),
        t
    } ();
    e.
default = {
        init: function(t) {
            return new _(t)
        },
        getAll: function(t, e) {
            var n = [e].concat(t.map(function(t) {
                return y[t]
            }));
            o.apply(null, n)
        },
        getMac: function(t) {
            s(t)
        },
        getSerial: function(t) {
            c(t)
        },
        getMacAddr: function(t) {
            f(function(e) {
                t((e || "").split(",")[0])
            })
        },
        getVersion: function(t) {
            d(t)
        }
    },
    t.exports = e.
default
},











//17472~17625

function(t, e) {
    "use strict";
    function n(t, e) {
        for (; t && t != document;) {
            if ("a" === t.nodeName.toLowerCase() || a(t, e)) return t;
            t = t.parentNode
        }
    }
    function l() {
        setTimeout(function() {
            m && (u(m, M), m = null)
        },
        50),
        g && (clearTimeout(g), g = null)
    }
    function r(t, e) {
        if (t) {
            var n = new CustomEvent(e, {
                bubbles: !0,
                cancelable: !0,
                detail: {
                    holyshit: !0
                }
            });
            return t.dispatchEvent(n),
            n
        }
    }
    function i(t) {
        var e, n, l;
        for (e = 0; e < C.length; e += 2) n = C[e],
        l = C[e + 1],
        Math.abs(t.clientX - n) < 25 && Math.abs(t.clientY - l) < 25 && (t.stopPropagation(), t.preventDefault())
    }
    function o(t, e) {
        if (t.classList) t.classList.add(e);
        else {
            var n = t.className.split(/\s+/);
            n.indexOf(e) == -1 && (t.className = t.className + " " + e)
        }
    }
    function u(t, e) {
        if (t.classList) t.classList.remove(e);
        else {
            for (var n = t.className.split(/\s+/), l = [], r = 0, i = n.length; r < i; r++) n[r] != e && l.push(n[r]);
            0 != l.length && (t.className = l.join(" "))
        }
    }
    function a(t, e) {
        if (t.classList) return t.classList.contains(e);
        var n = t.className.split(/\s+/);
        return n.indexOf(e) != -1
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var s, c, f, h, d, p, v, m, g, y = 800,
    _ = 300,
    b = 400,
    w = "mousedown",
    x = "mousemove",
    k = "mouseup",
    E = 0,
    S = 0,
    M = "active",
    T = "activeWatcher",
    P = {
        handleEvent: function(t) {
            if (t.touches || 1 == t.which) switch (t.type) {
            case "touchstart":
            case "mousedown":
                this.onStart(t),
                document.addEventListener(x, this),
                document.addEventListener(k, this);
                break;
            case "touchmove":
            case "mousemove":
                this.onMove(t);
                break;
            case "touchend":
            case "touchcancel":
            case "mouseup":
                document.removeEventListener(x, this),
                document.removeEventListener(k, this),
                this.onEnd(t)
            }
        },
        onStart: function(t) {
            if (c = t.target, s) {
                E = t.timeStamp,
                f = d,
                h = p;
                var e = t.touches ? t.touches[0] : t;
                d = e.clientX,
                p = e.clientY
            }
            if (v) {
                var l = n(c, T);
                if (l) {
                    var r = function() {
                        m = l,
                        o(m, M)
                    };
                    g = setTimeout(r, 50)
                }
            }
        },
        onMove: function(t) {
            v && l()
        },
        onEnd: function(t) {
            if (s) {
                var e = t.timeStamp,
                n = t.changedTouches ? t.changedTouches[0] : t,
                i = n.clientX,
                o = n.clientY;
                if (e - E < y && Math.pow(d - i, 2) + Math.pow(p - o, 2) < _) {
                    c = t.target;
                    var u, a = r(c, "tap");
                    e - S < b && Math.pow(f - i, 2) + Math.pow(h - o, 2) < _ ? (u = r(c, "dbltap"), clearTimeout(this.timer)) : this.timer = setTimeout(function() {
                        r(t.target, "sgltap")
                    },
                    b),
                    (a.defaultPrevented || u && u.defaultPrevented) && (C.push(i, o), setTimeout(function() {
                        C.splice(0, 2)
                    },
                    1e3), t.preventDefault()),
                    S = e,
                    c = null
                }
            }
            v && l()
        }
    },
    C = [],
    O = {
        EVT_START: w,
        EVT_MOVE: x,
        EVT_END: k
    };
    e.events = O,
    e.
default = {
        enableTouchEvent: function() {
            s = !0,
            document.addEventListener(w, P),
            document.addEventListener("click", i, !0)
        },
        enableActiveState: function(t, e) {
            v = !0,
            t && (T = t, M = e)
        }
    }
},



//50625














//61812
default.getLogger("Trade.Manager");
    try {
        n(637)
    } catch(t) {}
    var m = (window.TextEncoder || TextEncoding.TextEncoder, window.TextDecoder || TextEncoding.TextDecoder,
    function(t) {
        function e(t) {
            var n = this;
            r(this, e),
            u(Object.getPrototypeOf(e.prototype), "constructor", this).call(this);
            var l = new f.
        default(t);
            l.connect(),
            l.on("connected",
            function() {
                n.reconnectedCb ? n.reconnectedCb() : void 0;
                var t = JSON.stringify({
                    topic: "sys.captcha",
                    data: {
                        method: "generate"
                    }
                });
                v.debug(">>> send data >>>: " + t),
                l.send(t),
                n.emit("connected")
            }),
            l.removeAllListeners("message"),
            l.on("message",
            function(t) {
                var e = void 0,
                l = void 0,
                r = void 0,
                i = void 0,
                o = void 0,
                u = void 0,
                a = void 0,
                s = void 0,
                c = void 0,
                f = void 0,
                d = void 0,
                m = void 0,
                g = void 0,
                y = void 0;
                if (i = t.data, "string" == typeof i) return n._sysJsonHandler(i);
                for (y = new Uint8Array(i), m = y[0], r = new ArrayBuffer(m), l = new Uint8Array(r), o = u = 0, c = m - 1; 0 <= c ? u <= c: u >= c; o = 0 <= c ? ++u: --u) l[o] = y[o + p];
                for (e = new ArrayBuffer(i.byteLength - m - p), g = new Uint8Array(e), o = a = 0, f = e.byteLength - 1; 0 <= f ? a <= f: a >= f; o = 0 <= f ? ++a: --a) g[o] = y[o + p + m];
                d = (0, h.Uint8ToString)(l),
                s = (0, h.Uint8ToString)(g),
                v.debug("<<< on data <<<: topic=" + d + ", payload=", s),
                n.emit("message", {
                    topic: d,
                    message: s
                })
            }),
            this.transport = l
        }
        return i(e, t),
        o(e, [{
            key: "send",
            value: function(t, e) {
                if (t && e) {
                    v.debug(">>> send data >>>: topic=" + t + ", payload=" + e);
                    var n = new TextEncoder("utf-8"),
                    l = n.encode(t),
                    r = n.encode(e),
                    i = new ArrayBuffer(1 + l.byteLength + r.byteLength),
                    o = new Uint8Array(i);
                    o[0] = t.length,
                    o.set(l, 1),
                    o.set(r, 1 + l.byteLength),
                    this.transport.send(i)
                }
            }
        },
        {
            key: "setSessionExpiredCb",
            value: function(t) {
                return this.sessionExpiredCb = t
            }
        },
        {
            key: "setReconnectedCb",
            value: function(t) {
                return this.reconnectedCb = t
            }
        },
        {
            key: "_sysJsonHandler",
            value: function(t) {
                var e, n, l, r, i, o, u, a = this.transport,
                s = this.sessionExpiredCb;
                try {
                    if (n = JSON.parse(t), v.debug("<<< on data <<<:  " + t), "sys.hb" === (null != n ? n.topic: void 0) && "pong" === (null != (l = n.data) ? l.method: void 0)) return void(a.missed_heartbeats = 0);
                    if (n && "sys.captcha" == n.topic) return void(n.data.result ? a.emit("verify_result", n.data.result) : "verifyCaptcha" == n.data.err ? a.emit("verify_captcha") : a.emit("captcha", n));
                    if (null != (null != n && null != (r = n.data) ? r.token: void 0)) return "undefined" != typeof sessionStorage && null !== sessionStorage ? sessionStorage.trade_token = JSON.stringify(n.data.token) : void 0;
                    if ("invalidSession" === (null != n && null != (i = n.data) ? i.err: void 0) && "sys.userManager" === n.topic && s) return delete sessionStorage.trade_token,
                    "function" == typeof s ? s() : void 0;
                    if ("sys.userManager" === (null != n ? n.topic: void 0) && null != (null != (o = n.data) ? o.expireKey: void 0)) return u = JSON.parse(sessionStorage.trade_token),
                    u.expireKey = n.data.expireKey,
                    sessionStorage.trade_token = JSON.stringify(u)
                } catch(t) {
                    return e = t,
                    console.error(e)
                }
            }
        }]),
        e
    } (d.EventEmitter));
    e.
default = m,
    t.exports = e.
default
},
function(t, e, n) { (function() {
        var e = n(638);
        t.exports = {
            TextEncoder: e.TextEncoder,
            TextDecoder: e.TextDecoder
        }
    }).call(window)
},




            //60316
            creditLoginByToken: function(t, e, n) {
            e = unescape(encodeURIComponent(e));
            var l = JSON.stringify({
                token: JSON.parse(e)
            }),
            r = N.


        // http://localhost/project/public/js/Main-710d4bceed.js:58911:13